{"remainingRequest":"F:\\hdb\\fronteir\\node_modules\\babel-loader\\lib\\index.js!F:\\hdb\\fronteir\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\hdb\\fronteir\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\hdb\\fronteir\\src\\views\\Expression.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\hdb\\fronteir\\src\\views\\Expression.vue","mtime":1660492933944},{"path":"F:\\hdb\\fronteir\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\hdb\\fronteir\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\hdb\\fronteir\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\hdb\\fronteir\\node_modules\\vue-loader\\lib\\index.js","mtime":1656480287592}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L2hkYi9mcm9udGVpci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICJGOi9oZGIvZnJvbnRlaXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwovLyBpbXBvcnQgTmF2aWdhdG9yIGZyb20gIkAvY29tcG9uZW50cy9uYXZpZ2F0b3IudnVlIjsKaW1wb3J0IGV4cE9udG9sb2d5IGZyb20gIkAvYXNzZXRzL3N0YXRpYy9leHByZXNzaW9uLmpzb24iOwppbXBvcnQgQmFubmVyIGZyb20gIkAvY29tcG9uZW50cy9iYW5uZXIudnVlIjsKaW1wb3J0IEZvb3RlckJhciBmcm9tICJAL2NvbXBvbmVudHMvRm9vdGVyQmFyLnZ1ZSI7CmltcG9ydCBIZWFkZXJCYXIgZnJvbSAiQC9jb21wb25lbnRzL0hlYWRlckJhci52dWUiOyAvLyBpbXBvcnQgcXMgZnJvbSAicXMiOwovLyAvLyBpY29ucwoKaW1wb3J0IHNhbWVUcmFpdEljb24gZnJvbSAiQC9hc3NldHMvaW1nL2ljb24vc3Rhci5zdmciOwppbXBvcnQgZGV0YWlsSWNvbiBmcm9tICJAL2Fzc2V0cy9pbWcvaWNvbi9kZXRhaWxzLnN2ZyI7CmltcG9ydCBvcnRob0ljb24gZnJvbSAiQC9hc3NldHMvaW1nL2ljb24vaHVhZnUuc3ZnIjsKaW1wb3J0IHNpbmdsZVRyYWl0SWNvbiBmcm9tICJAL2Fzc2V0cy9pbWcvaWNvbi9vcmFuZ2Uuc3ZnIjsgLy8gaW1wb3J0ICJAL2Fzc2V0cy9jc3MvdHJhaXRzLmNzcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlRyYWl0cyIsCiAgY29tcG9uZW50czogewogICAgLy8gTmF2aWdhdG9yLAogICAgRm9vdGVyQmFyOiBGb290ZXJCYXIsCiAgICBIZWFkZXJCYXI6IEhlYWRlckJhciwKICAgIEJhbm5lcjogQmFubmVyCiAgfSwKICB3YXRjaDogewogICAgZmlsdGVyVGV4dDogZnVuY3Rpb24gZmlsdGVyVGV4dCh2YWwpIHsKICAgICAgdGhpcy4kcmVmcy50cmVlLmZpbHRlcih2YWwpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNhbWVUcmFpdEljb246IHNhbWVUcmFpdEljb24sCiAgICAgIGRldGFpbEljb246IGRldGFpbEljb24sCiAgICAgIG9ydGhvSWNvbjogb3J0aG9JY29uLAogICAgICBzaW5nbGVUcmFpdEljb246IHNpbmdsZVRyYWl0SWNvbiwKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIHZpc2libGVfMTogZmFsc2UsCiAgICAgIGZpbHRlclRleHQ6ICIiLAogICAgICB0cmVlZGF0YTogZXhwT250b2xvZ3kudHJlZSwKICAgICAgc2hvd1N1YlRhYmxlQm94OiBmYWxzZSwKICAgICAgZ3dhc0xvYWRpbmc6IHRydWUsCiAgICAgIG9ydGhvTG9hZGluZzogdHJ1ZSwKICAgICAgZHJhd2VyOiBmYWxzZSwKICAgICAgZGlyZWN0aW9uOiAibHRyIiwKICAgICAgLy8g5L+d5a2Y5ZCM5rqQ54mp56eN77yM55So5LqO6KGo5qC855Sf5oiQ5YiXCiAgICAgIHNwZWNpZXNMaXN0X2FuaW1hbDogW10sCiAgICAgIHNwZWNpZXNMaXN0X3BsYW50OiBbXSwKICAgICAgLy8g5L+d5a2Y5ZCM5rqQ54mp56eNb2Jq77yM55So5LqO5Yqo5oCB6YCJ5oup5YiXCiAgICAgIHNwZWNpZXNMaXN0X2FuaW1hbF8xOiBbXSwKICAgICAgc3BlY2llc0xpc3RfcGxhbnRfMTogW10sCiAgICAgIHRyYWl0RGF0YV9hbmltYWw6IFtdLAogICAgICB0cmFpdERhdGFfcGxhbnQ6IFtdLAogICAgICBvcnRob1RhYmxlRGF0YTogW10sCiAgICAgIHZhbHVlOiAiIiwKICAgICAgZXhwSXRlbTogewogICAgICAgIGV4cE5hbWU6ICJDYXJkaW92YXNjdWxhciBzeXN0ZW0iCiAgICAgIH0sCiAgICAgIGN1cnJlbnRQYWdlNF9hOiAxLAogICAgICBjdXJyZW50UGFnZTRfcDogMSwKICAgICAgdG90YWxTaXplX2FuaW1hbDogMCwKICAgICAgdG90YWxTaXplX3BsYW50OiAwLAogICAgICBmb3JtOiB7CiAgICAgICAgcXVlcnlTcGVjaWVzOiAiIiwKICAgICAgICBnZW5lOiAiIgogICAgICB9LAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIGd3YXNJbmZvRGF0YTogW10sCiAgICAgIGxvYWRpbmdfYW5pbWFsOiB0cnVlLAogICAgICBsb2FkaW5nX3BsYW50OiB0cnVlLAogICAgICBzaG93T3J0aG9TdWJUYWJsZTogZmFsc2UsCiAgICAgIGNsYXNzaWZpY2F0aW9uOiAiYW5pbWFsIiwKICAgICAgbmF2QmFyRml4ZWQ6ICJmYWxzZSIsCiAgICAgIHNob3dUcmFpdFNhbWVJY29uOiBmYWxzZSwKICAgICAgLy8g5LuO5o6l5Y+j6I635Y+W5omA5pyJ5pyJdHJhaXTmlbDmja7nmoTniannp43vvIznlKjkuo7niannp43pgInmi6nvvIzmj5DkuqRzZWFyY2gKICAgICAgcXVlcnlTcGVjaWVzTGlzdF9hbmltYWw6IFtdLAogICAgICBxdWVyeVNwZWNpZXNMaXN0X3BsYW50OiBbXSwKICAgICAgcXVlcnlTcGVjaWVzTGlzdDogW10sCiAgICAgIHNlbGVjdEdlbmU6IHt9LAogICAgICBleHBfcHJqTGlzdDogW10sCiAgICAgIHByb2plY3RfdmFsOiAiIiwKICAgICAgdmlzaWJsZV8yOiBmYWxzZSwKICAgICAgc2hvd1RpdGxlOiB0cnVlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlQ2xhc3M6IGZ1bmN0aW9uIGNoYW5nZUNsYXNzKHRhYikgewogICAgICB0aGlzLnNob3dPcnRob1N1YlRhYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuc2hvd1N1YlRhYmxlQm94ID0gZmFsc2U7CiAgICAgIHRoaXMuJHJlZnNbJ3RhYmxlJ10uZG9MYXlvdXQoKTsKICAgICAgdGhpcy5mb3JtLnF1ZXJ5U3BlY2llcyA9ICcnOwogICAgICB0aGlzLmZvcm0uZ2VuZSA9ICcnOwogICAgICB0aGlzLmNsYXNzaWZpY2F0aW9uID0gdGFiLm5hbWU7CiAgICB9LAogICAgY29uZmlybWJ1dHRvbjogZnVuY3Rpb24gY29uZmlybWJ1dHRvbigpIHsKICAgICAgdGhpcy52aXNpYmxlXzEgPSBmYWxzZTsKICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuJHJlZnMudGFibGUuZG9MYXlvdXQoKTsKICAgIH0sCiAgICBjb25maXJtYnV0dG9uMjogZnVuY3Rpb24gY29uZmlybWJ1dHRvbjIoKSB7CiAgICAgIHRoaXMudmlzaWJsZV8yID0gZmFsc2U7CiAgICAgIHRoaXMudmlzaWJsZTIgPSBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICAvLyB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBpZiAodGhpcy5jbGFzc2lmaWNhdGlvbiA9PSAiYW5pbWFsIikgewogICAgICAgIHRoaXMuY3VycmVudFBhZ2U0X2EgPSAxOwogICAgICAgIHRoaXMubG9hZGluZ19hbmltYWwgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubG9hZGluZ19wbGFudCA9IHRydWU7CiAgICAgICAgdGhpcy5jdXJyZW50UGFnZTRfcCA9IDE7CiAgICAgIH0KCiAgICAgIHRoaXMucGFnZVNpemUgPSB2YWw7CiAgICAgIHRoaXMuZ2V0VHJhaXREYXRhKHRoaXMuZXhwSXRlbS5leHBOYW1lLCB0aGlzLmNsYXNzaWZpY2F0aW9uLCB0aGlzLmhkYklkKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICBpZiAodGhpcy5jbGFzc2lmaWNhdGlvbiA9PSAiYW5pbWFsIikgewogICAgICAgIHRoaXMubG9hZGluZ19hbmltYWwgPSB0cnVlOwogICAgICAgIHRoaXMuY3VycmVudFBhZ2U0X2EgPSB2YWw7IC8vIHRyYWl0SWQsY2xhc3NpZmljYXRpb24scGFnZXNpemUscGFnZW51bSxzcGVjaWVzTmFtZQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubG9hZGluZ19wbGFudCA9IHRydWU7CiAgICAgICAgdGhpcy5jdXJyZW50UGFnZTRfcCA9IHZhbDsKICAgICAgfQoKICAgICAgdGhpcy5nZXRUcmFpdERhdGEodGhpcy5leHBJdGVtLmV4cE5hbWUsIHRoaXMuY2xhc3NpZmljYXRpb24sIHRoaXMuaGRiSWQpOwogICAgfSwKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gdmFsOwogICAgfSwKICAgIGZpbHRlck5vZGU6IGZ1bmN0aW9uIGZpbHRlck5vZGUodmFsdWUsIGRhdGEpIHsKICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIHRydWU7CiAgICAgIHJldHVybiBkYXRhLmxhYmVsLmluZGV4T2YodmFsdWUpICE9PSAtMTsKICAgIH0sCiAgICBnZXRJbmZvQnlUcmFpdDogZnVuY3Rpb24gZ2V0SW5mb0J5VHJhaXQodmFsdWUsIGRhdGEpIHsKICAgICAgdGhpcy5oZGJJZCA9ICIiOwogICAgICB0aGlzLnNob3dUaXRsZSA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKCJjbGFzc2lmaWNhdGlvbjoiLCB2YWx1ZS5jbGFzc2lmaWNhdGlvbik7CiAgICAgIHRoaXMuZXhwSXRlbS5leHBOYW1lID0gdmFsdWUubGFiZWw7CiAgICAgIHRoaXMuZXhwSXRlbS5jbGFzc2lmaWNhdGlvbiA9IHZhbHVlLmNsYXNzaWZpY2F0aW9uOwoKICAgICAgaWYgKHZhbHVlLmNsYXNzaWZpY2F0aW9uICE9PSAiIiAmJiB2YWx1ZS5jbGFzc2lmaWNhdGlvbiAhPT0gbnVsbCkgewogICAgICAgIGlmICh2YWx1ZS5jbGFzc2lmaWNhdGlvbiA9PSAiYW5pbWFsIikgewogICAgICAgICAgdGhpcy5jbGFzc2lmaWNhdGlvbiA9ICJhbmltYWwiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNsYXNzaWZpY2F0aW9uID0gInBsYW50IjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMubG9hZGluZ19hbmltYWwgPSB0cnVlOwogICAgICB0aGlzLmdldFRyYWl0RGF0YSh2YWx1ZS5sYWJlbCwgImFuaW1hbCIpOwogICAgICB0aGlzLmxvYWRpbmdfcGxhbnQgPSB0cnVlOwogICAgICB0aGlzLmdldFRyYWl0RGF0YSh2YWx1ZS5sYWJlbCwgInBsYW50Iik7CiAgICAgIHRoaXMuY3VycmVudFBhZ2U0X3AgPSAxOwogICAgICB0aGlzLmN1cnJlbnRQYWdlNF9hID0gMTsKICAgICAgZGF0YS5jaGVja2VkID0gdHJ1ZTsKICAgICAgdGhpcy5zaG93U3ViVGFibGVCb3ggPSBmYWxzZTsKICAgICAgdGhpcy5zaG93T3J0aG9TdWJUYWJsZSA9IGZhbHNlOwogICAgfSwKICAgIHNob3dTZWxlY3RlZEdlbmU6IGZ1bmN0aW9uIHNob3dTZWxlY3RlZEdlbmUocm93RGF0YSkgewogICAgICB0aGlzLnNlbGVjdEdlbmUgPSByb3dEYXRhOwogICAgfSwKICAgIHNob3dPcnRob0luZm9UYWJsZTogZnVuY3Rpb24gc2hvd09ydGhvSW5mb1RhYmxlKHJvd0RhdGEsIGluZGV4KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5zaG93U2VsZWN0ZWRHZW5lKHJvd0RhdGEsIGluZGV4KTsgLy8gY29uc29sZS5sb2coInJvd0RhdGEsaW5kZXg6Iixyb3dEYXRhLGluZGV4KTsKICAgICAgLy8gcm93RGF0YS5vcnRob0xpc3Rbcm93RGF0YS5zcGVjaWVzTGlzdERhdGEuaW5kZXhPZihpbmRleCldOwoKICAgICAgdmFyIG9ydGhvbGlzdCA9IFtdOwogICAgICByb3dEYXRhLnNwZWNpZXNMaXN0RGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpZCwgaWR4KSB7CiAgICAgICAgaWYgKGlkID09IGluZGV4KSB7CiAgICAgICAgICBvcnRob2xpc3QucHVzaChyb3dEYXRhLm9ydGhvbGlzdFtpZHhdKTsKICAgICAgICB9CiAgICAgIH0pOyAvLyBjb25zb2xlLmxvZygiaW5kZXggbGlzdDoiLG9ydGhvbGlzdCk7CiAgICAgIC8vIHJvd0RhdGEuCgogICAgICB0aGlzLnNob3dPcnRob1N1YlRhYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5zaG93U3ViVGFibGVCb3ggPSBmYWxzZTsKICAgICAgdGhpcy5vcnRob0xvYWRpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5vcnRob1RhYmxlRGF0YSA9IFtdOwogICAgICBvcnRob2xpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZhciBoZGJpZCA9IGl0ZW0uaGRiSWQ7CgogICAgICAgIF90aGlzMi4kYXhpb3MuZ2V0KCJodHRwczovL25nZGMuY25jYi5hYy5jbi9oYXBpL2FwaS9nZW5lLWRldGFpbC1vcnRobyIsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAiaGRiSWQiOiBoZGJpZAogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2coImdlbmUgcmVzOiIsIHJlcyk7CiAgICAgICAgICBpdGVtLmVuc2VtYmxHZW5lSWQgPSByZXMuZGF0YS5lbnNlbWJsR2VuZUlkLmxlbmd0aCA+IDAgPyByZXMuZGF0YS5lbnNlbWJsR2VuZUlkIDogIi0iOwogICAgICAgICAgaXRlbS5nZW5lU3ltYm9sID0gcmVzLmRhdGEuZ2VuZVN5bWJvbC5sZW5ndGggPiAwID8gcmVzLmRhdGEuZ2VuZVN5bWJvbCA6ICItIjsKCiAgICAgICAgICBfdGhpczIub3J0aG9UYWJsZURhdGEucHVzaChpdGVtKTsKCiAgICAgICAgICBfdGhpczIub3J0aG9Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0pOyAvLyB0aGlzLm9ydGhvVGFibGVEYXRhPW9ydGhvbGlzdDsKCiAgICAgIGNvbnNvbGUubG9nKCJvcnRob1RhYmxlRGF0YToiLCB0aGlzLm9ydGhvVGFibGVEYXRhKTsgLy8g5bqU6K+l5Y+R6YCB6K+35rGC5Y67Z2VuZWJhc2ljaW5mb+afpeWFt+S9k+eahOWfuuWboOebuOWFs+S/oeaBrwogICAgfSwKICAgIC8vIOihqOagvOmrmOW6puiHqumAguW6lAogICAgZ2V0VGFibGVNYXhIZWlnaHQ6IGZ1bmN0aW9uIGdldFRhYmxlTWF4SGVpZ2h0KCkgewogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50cmFpdC1pbmZvIikuYXR0cmlidXRlczsKICAgICAgICB2YXIgYm94X2NsaWVudEhlaWdodCA9IGJveFswXS5vd25lckVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgICAgIHRoaXMudGFibGVIZWlnaHQgPSBib3hfY2xpZW50SGVpZ2h0IC0gMTAwOwogICAgICB9KTsKICAgIH0sCiAgICBidXR0b25GdW5jdGlvbjogZnVuY3Rpb24gYnV0dG9uRnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuZHJhd2VyID0gdHJ1ZTsKICAgIH0sCiAgICBkcmF3Qm94UGxvdDogZnVuY3Rpb24gZHJhd0JveFBsb3QoZXhwVGFibGVkYXRhVG90YWwsIGluZGV4LCBuYW1lTGlzdCkgewogICAgICB2YXIgY2hhcnREb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpOwogICAgICBjb25zb2xlLmxvZygiZXhwVGFibGVkYXRhVG90YWw6IiwgZXhwVGFibGVkYXRhVG90YWxbaW5kZXhdKTsKICAgICAgdmFyIG15Q2hhcnQgPSB0aGlzLiRlY2hhcnRzLmluaXQoY2hhcnREb20pOwogICAgICB2YXIgb3B0aW9uOwogICAgICBvcHRpb24gPSB7CiAgICAgICAgdGl0bGU6IFt7CiAgICAgICAgICB0ZXh0OiAnRXhwcmVzc2lvbiB2YWx1ZSBCb3gtcGxvdCBpbiBCaW9wcm9qZWN0JywKICAgICAgICAgIGxlZnQ6ICdjZW50ZXInCiAgICAgICAgfV0sCiAgICAgICAgZGF0YXNldDogW3sKICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZQogICAgICAgICAgc291cmNlOiBleHBUYWJsZWRhdGFUb3RhbFtpbmRleF1bMF0KICAgICAgICB9LCB7CiAgICAgICAgICB0cmFuc2Zvcm06IHsKICAgICAgICAgICAgdHlwZTogJ2JveHBsb3QnLAogICAgICAgICAgICBjb25maWc6IHsKICAgICAgICAgICAgICBpdGVtTmFtZUZvcm1hdHRlcjogZnVuY3Rpb24gaXRlbU5hbWVGb3JtYXR0ZXIocGFyYW1zKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZUxpc3RbaW5kZXhdW3BhcmFtcy52YWx1ZV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgZnJvbURhdGFzZXRJbmRleDogMSwKICAgICAgICAgIGZyb21UcmFuc2Zvcm1SZXN1bHQ6IDEKICAgICAgICB9XSwKICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICB0cmlnZ2VyOiAnaXRlbScsCiAgICAgICAgICBheGlzUG9pbnRlcjogewogICAgICAgICAgICB0eXBlOiAnc2hhZG93JwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZ3JpZDogewogICAgICAgICAgbGVmdDogJzEwJScsCiAgICAgICAgICByaWdodDogJzEwJScsCiAgICAgICAgICBib3R0b206ICcxNSUnCiAgICAgICAgfSwKICAgICAgICB4QXhpczogewogICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JywKICAgICAgICAgIGJvdW5kYXJ5R2FwOiB0cnVlLAogICAgICAgICAgbmFtZTogJ1Rpc3N1ZScsCiAgICAgICAgICBuYW1lR2FwOiAzMCwKICAgICAgICAgIHNwbGl0QXJlYTogewogICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgfSwKICAgICAgICAgIHNwbGl0TGluZTogewogICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgeUF4aXM6IHsKICAgICAgICAgIHR5cGU6ICd2YWx1ZScsCiAgICAgICAgICBuYW1lOiAnVFBNIHZhbHVlJywKICAgICAgICAgIHNwbGl0QXJlYTogewogICAgICAgICAgICBzaG93OiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICBuYW1lOiAnYm94cGxvdCcsCiAgICAgICAgICB0eXBlOiAnYm94cGxvdCcsCiAgICAgICAgICBkYXRhc2V0SW5kZXg6IDEKICAgICAgICB9LCB7CiAgICAgICAgICBuYW1lOiAnb3V0bGllcicsCiAgICAgICAgICB0eXBlOiAnc2NhdHRlcicsCiAgICAgICAgICBkYXRhc2V0SW5kZXg6IDIKICAgICAgICB9XQogICAgICB9OwogICAgICBvcHRpb24gJiYgbXlDaGFydC5zZXRPcHRpb24ob3B0aW9uKTsKICAgIH0sCiAgICBzaG93RGV0YWlsRXhwcmVzc2lvbjogZnVuY3Rpb24gc2hvd0RldGFpbEV4cHJlc3Npb24odmFsdWUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAodmFsdWUuc2VsZWN0UHJqICE9PSBudWxsICYmIHZhbHVlLnNlbGVjdFByaiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdmFsdWUuc2hvd3BvcCA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKCJzZWxlY3RQcmo6IiwgdmFsdWUuc2VsZWN0UHJqKTsKICAgICAgICB0aGlzLnZpc2libGVfMiA9ICF0aGlzLnZpc2libGVfMjsKICAgICAgICBjb25zb2xlLmxvZygiZXhwIHZhbHVlOiIsIHZhbHVlKTsKICAgICAgICB2YXIgUEFUSCA9ICJodHRwczovL25nZGMuY25jYi5hYy5jbi9nZW4vYXBpL2pzb24vZ2VuZS9leHByZXNzaW9ucz90YXhvbm9teUlkPSIgKyB2YWx1ZS50YXhvbklkICsgIiZhY2Nlc3Npb249IiArIHZhbHVlLmdlbmVJZCArICImYmlvUHJvamVjdElkPSIgKyB2YWx1ZS5iaW9Qcm9qZWN0SWQ7IC8vIGNvbnN0IGggPSB0aGlzLiRjcmVhdGVFbGVtZW50OwoKICAgICAgICB0aGlzLiRheGlvcy5nZXQoUEFUSCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciBleHBkYXRhID0gcmVzcG9uc2UuZGF0YS5yZXN1bHQuZXhwcmVzc2lvblByb2ZpbGVzOwogICAgICAgICAgY29uc29sZS5sb2coImV4cHJlc3Npb24gcmVzcG9uc2U6IiwgcmVzcG9uc2UuZGF0YS5yZXN1bHQuZXhwcmVzc2lvblByb2ZpbGVzKTsKICAgICAgICAgIF90aGlzMy5leHBfcHJqTGlzdCA9IHZhbHVlLmJpb1Byb2plY3RJZC5zcGxpdCgnLCcpOwoKICAgICAgICAgIF90aGlzMy4kYWxlcnQoIlxuICAgICAgICAgIDxkaXYgaWQ9XCJtYWluXCIgc3R5bGU9XCJ3aWR0aDoxMzAwcHg7aGVpZ2h0OjgwMHB4XCI+PC9kaXY+XG4gICAgICAgICIsIHsKICAgICAgICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlCiAgICAgICAgICB9KTsKCiAgICAgICAgICB2YXIgZXhwVGFibGVkYXRhVG90YWwgPSBbXTsKICAgICAgICAgIHZhciBuYW1lTGlzdCA9IFtdOwogICAgICAgICAgdmFyIHByakxpc3RhbGwgPSBbXTsKCiAgICAgICAgICBmb3IgKHZhciBrZXlhYSBpbiBleHBkYXRhKSB7CiAgICAgICAgICAgIGlmIChwcmpMaXN0YWxsLmluZGV4T2Yoa2V5YWEpID09IC0xKSB7CiAgICAgICAgICAgICAgcHJqTGlzdGFsbC5wdXNoKGtleWFhKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIGV4cFRhYmxlZGF0YSA9IFtdOwogICAgICAgICAgICB2YXIgcHJqTGlzdCA9IGV4cGRhdGFba2V5YWFdOwogICAgICAgICAgICB2YXIgZXhwTnVtID0gMDsgLy8gbGV0IHNhbXBsZU51bT0wOwoKICAgICAgICAgICAgdmFyIHRpc3N1ZSA9IHt9OwogICAgICAgICAgICB2YXIgc3VibmFtZWxpc3QgPSBbXTsKCiAgICAgICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwcmpMaXN0KSwKICAgICAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgICAgIC8vIHNhbXBsZU51bSArPSAxOwogICAgICAgICAgICAgICAgZXhwTnVtICs9IGl0ZW0udHBtOwogICAgICAgICAgICAgICAgdmFyIGl0ZW1UaXNzdWUgPSBpdGVtLnRpc3N1ZTsKCiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGlzc3VlKS5pbmRleE9mKGl0ZW1UaXNzdWUpID09IC0xKSB7CiAgICAgICAgICAgICAgICAgIHRpc3N1ZVtpdGVtVGlzc3VlXSA9IFtleHBOdW1dOwogICAgICAgICAgICAgICAgICBzdWJuYW1lbGlzdC5wdXNoKGl0ZW1UaXNzdWUpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdGlzc3VlW2l0ZW1UaXNzdWVdLnB1c2goZXhwTnVtKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZm9yICh2YXIgdGlzc3VlTmFtZSBpbiB0aXNzdWUpIHsKICAgICAgICAgICAgICB2YXIgdmFsdWVMaXN0ID0gdGlzc3VlW3Rpc3N1ZU5hbWVdOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ2YWx1ZUxpc3Q6IiwgdmFsdWVMaXN0LCB0aXNzdWVOYW1lKTsKICAgICAgICAgICAgICBleHBUYWJsZWRhdGEucHVzaCh2YWx1ZUxpc3QpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBleHBUYWJsZWRhdGFUb3RhbC5wdXNoKFtleHBUYWJsZWRhdGFdKTsKICAgICAgICAgICAgbmFtZUxpc3QucHVzaChzdWJuYW1lbGlzdCk7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2coIm5hbWVMaXN0OiIsIG5hbWVMaXN0KTsKICAgICAgICAgIHZhciBpbmRleCA9IHByakxpc3RhbGwuaW5kZXhPZih2YWx1ZS5zZWxlY3RQcmopOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMy5kcmF3Qm94UGxvdChleHBUYWJsZWRhdGFUb3RhbCwgaW5kZXgsIG5hbWVMaXN0KTsKICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignUGxlc2Ugc2VsZWN0IGEgQmlvcHJvamVjdCcpOwogICAgICB9CiAgICB9LAogICAgc2hvd0d3YXNJbmZvVGFibGU6IGZ1bmN0aW9uIHNob3dHd2FzSW5mb1RhYmxlKHJvd1ZhbHVlLCBpbmRleCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuc2hvd1NlbGVjdGVkR2VuZShyb3dWYWx1ZSwgaW5kZXgpOwogICAgICB2YXIgb3J0aG9saXN0ID0gW107CiAgICAgIHZhciBoZGJsaXN0ID0gW3Jvd1ZhbHVlLmhkYklkXTsKICAgICAgcm93VmFsdWUuc3BlY2llc0xpc3REYXRhLmZvckVhY2goZnVuY3Rpb24gKGlkLCBpZHgpIHsKICAgICAgICBpZiAoaWQgPT0gaW5kZXgpIHsKICAgICAgICAgIHZhciBpdGVtID0gcm93VmFsdWUub3J0aG9saXN0W2lkeF07CiAgICAgICAgICBjb25zb2xlLmxvZygiaXRlbToiLCBpdGVtKTsKICAgICAgICAgIG9ydGhvbGlzdC5wdXNoKGl0ZW0pOwogICAgICAgICAgaGRibGlzdC5wdXNoKGl0ZW0uaGRiSWQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIG9ydGhvbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgdmFyIGhkYmlkID0gaXRlbS5oZGJJZDsKCiAgICAgICAgX3RoaXM0LiRheGlvcy5nZXQoImh0dHBzOi8vbmdkYy5jbmNiLmFjLmNuL2hhcGkvYXBpL2dlbmUtZGV0YWlsLW9ydGhvIiwgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICJoZGJJZCI6IGhkYmlkCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiZ2VuZSByZXM6IiwgcmVzKTsKICAgICAgICAgIGl0ZW0uZW5zZW1ibEdlbmVJZCA9IHJlcy5kYXRhLmVuc2VtYmxHZW5lSWQubGVuZ3RoID4gMCA/IHJlcy5kYXRhLmVuc2VtYmxHZW5lSWQgOiAiLSI7CiAgICAgICAgICBpdGVtLmdlbmVTeW1ib2wgPSByZXMuZGF0YS5nZW5lU3ltYm9sLmxlbmd0aCA+IDAgPyByZXMuZGF0YS5nZW5lU3ltYm9sIDogIi0iOwoKICAgICAgICAgIF90aGlzNC5vcnRob1RhYmxlRGF0YS5wdXNoKGl0ZW0pOwoKICAgICAgICAgIF90aGlzNC5vcnRob0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfSk7IC8vIHRoaXMub3J0aG9UYWJsZURhdGE9b3J0aG9saXN0OwogICAgICAvLyB0aGlzLm9ydGhvTG9hZGluZz1mYWxzZTsKCiAgICAgIHRoaXMuc2hvd1N1YlRhYmxlQm94ID0gdHJ1ZTsKICAgICAgdGhpcy5nd2FzSW5mb0RhdGEgPSBbXTsKICAgICAgaGRibGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChoZGJpZCkgewogICAgICAgIF90aGlzNC4kYXhpb3MuZ2V0KCJodHRwczovL25nZGMuY25jYi5hYy5jbi9oYXBpL2FwaS9leHByZXNzaW9uLWdlbmUiLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgJ2hkYklkJzogaGRiaWQKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgY29uc29sZS5sb2coImd3YXMgcmVzcG9uc2U6IiwgcmVzcG9uc2UpOwoKICAgICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzcG9uc2UuZGF0YSksCiAgICAgICAgICAgICAgX3N0ZXAyOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgICAgaXRlbS5iaW9Qcm9qZWN0SWRMaXN0ID0gaXRlbS5iaW9Qcm9qZWN0SWQuc3BsaXQoIiwiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXM0Lmd3YXNJbmZvRGF0YSA9IF90aGlzNC5nd2FzSW5mb0RhdGEuY29uY2F0KHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgX3RoaXM0Lmd3YXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLnNob3dPcnRob1N1YlRhYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBoaWxpZ3REYkNvbHM6IGZ1bmN0aW9uIGhpbGlndERiQ29scyhfcmVmKSB7CiAgICAgIHZhciByb3dJbmRleCA9IF9yZWYucm93SW5kZXg7CgogICAgICBpZiAocm93SW5kZXggPT09IDEpIHsKICAgICAgICByZXR1cm4gIndyaXRpbmctbW9kZTogdmVydGljYWwtbHI7ICFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpyaWdodCI7CiAgICAgIH0KICAgIH0sCiAgICBzZWFyY2hGaWx0ZXI6IGZ1bmN0aW9uIHNlYXJjaEZpbHRlcigpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBpZiAodGhpcy5mb3JtLnF1ZXJ5U3BlY2llcyA9PSAiIiAmJiB0aGlzLmZvcm0uZ2VuZSA9PSAiIikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ1BsZWFzZSBlbnRlciBxdWVyeSBjcml0ZXJpYScpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLmNsYXNzaWZpY2F0aW9uID09ICJhbmltYWwiKSB7CiAgICAgICAgICB0aGlzLmxvYWRpbmdfYW5pbWFsID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5sb2FkaW5nX3BsYW50ID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHRoaXMuZ2V0VHJhaXREYXRhKHRoaXMuZXhwSXRlbS5leHBOYW1lLCB0aGlzLmNsYXNzaWZpY2F0aW9uKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNS5tZXNzYWdFcnJvcihfdGhpczUuY2xhc3NpZmljYXRpb24pOwogICAgICAgIH0sIDEwMDApOwogICAgICB9CiAgICB9LAogICAgbWVzc2FnRXJyb3I6IGZ1bmN0aW9uIG1lc3NhZ0Vycm9yKHR5cGUpIHsKICAgICAgaWYgKHR5cGUgPT0gJ3BsYW50JykgewogICAgICAgIGlmICh0aGlzLnRvdGFsU2l6ZV9wbGFudCA9PSAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCdObyBkYXRhIGZvdW5kJyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLnRvdGFsU2l6ZV9hbmltYWwgPT0gMCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignTm8gZGF0YSBmb3VuZCcpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNsZWFyRmlsdGVyOiBmdW5jdGlvbiBjbGVhckZpbHRlcigpIHsKICAgICAgaWYgKHRoaXMuZm9ybS5xdWVyeVNwZWNpZXMgIT09ICIiIHx8IHRoaXMuZm9ybS5nZW5lICE9PSAiIikgewogICAgICAgIGlmICh0aGlzLmNsYXNzaWZpY2F0aW9uID09ICJhbmltYWwiKSB7CiAgICAgICAgICB0aGlzLmxvYWRpbmdfYW5pbWFsID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5sb2FkaW5nX3BsYW50ID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHRoaXMuZm9ybS5xdWVyeVNwZWNpZXMgPSAiIjsKICAgICAgICB0aGlzLmZvcm0uZ2VuZSA9ICIiOwogICAgICAgIHRoaXMuZ2V0VHJhaXREYXRhKHRoaXMuZXhwSXRlbS5leHBOYW1lLCAiYW5pbWFsIik7CiAgICAgICAgdGhpcy5nZXRUcmFpdERhdGEodGhpcy5leHBJdGVtLmV4cE5hbWUsICJwbGFudCIpOwogICAgICB9CiAgICB9LAogICAgc2hvd1RhYmxlSWNvbjogZnVuY3Rpb24gc2hvd1RhYmxlSWNvbihkYXRhLCBjbGFzc3NzKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX2l0ZXJhdG9yMywgX3N0ZXAzLCB2YXJEYXRhLCBfaXRlcmF0b3I0LCBfc3RlcDQsIGl0ZW0sIHNwZWNpZXNOYW1lLCB2YXJsaXN0LCBfaXRlcmF0b3I1LCBfc3RlcDUsIF92YXJEYXRhLCBfaXRlcmF0b3I2LCBfc3RlcDYsIF9pdGVtLCBfc3BlY2llc05hbWUsIF92YXJsaXN0OwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoY2xhc3NzcyA9PSAicGxhbnQiKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5zcGVjaWVzTGlzdF9wbGFudCA9IFtdOwogICAgICAgICAgICAgICAgICBfdGhpczYuc3BlY2llc0xpc3RfcGxhbnRfMSA9IFtdOwoKICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihkYXRhKTsKCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhckRhdGEgPSBfc3RlcDMudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWinuWKoOS4gOS4quWxnuaAp+S/neWtmOeJqeenjeeahGluZGV477yM55So5p2l5pi+56S66KGo5qC86YeM55qEaWNvbgogICAgICAgICAgICAgICAgICAgICAgICB2YXJEYXRhLnNwZWNpZXNMaXN0RGF0YSA9IFtdOyAvLyDlop7liqDkuIDkuKrlsZ7mgKfvvIzkv53lrZjmmL7npLrmnIl0cmFpdOaVsOaNrueahOaDheWGtQoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyRGF0YS50cmFpdExpc3REYXRhMSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICB2YXJEYXRhLnRyYWl0TGlzdERhdGEyID0gW107CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFyRGF0YS5vcnRob2xpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodmFyRGF0YS5vcnRob2xpc3QpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSA9IF9zdGVwNC52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2llc05hbWUgPSBpdGVtLnNwZWNpZXMuY29tbW9uTmFtZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczYuc3BlY2llc0xpc3RfcGxhbnQuaW5kZXhPZihzcGVjaWVzTmFtZSkgPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuc3BlY2llc0xpc3RfcGxhbnQucHVzaChzcGVjaWVzTmFtZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc3BlY2llcy5jaGVja2VkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnNwZWNpZXNMaXN0X3BsYW50XzEucHVzaChpdGVtLnNwZWNpZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJEYXRhLnNwZWNpZXNMaXN0RGF0YS5wdXNoKF90aGlzNi5zcGVjaWVzTGlzdF9wbGFudC5pbmRleE9mKHNwZWNpZXNOYW1lKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5hbm5vdGF0aW9uICE9PSBudWxsICYgaXRlbS5lb05hbWUgIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJEYXRhLnRyYWl0TGlzdERhdGEyLnB1c2goX3RoaXM2LnNwZWNpZXNMaXN0X3BsYW50LmluZGV4T2Yoc3BlY2llc05hbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJsaXN0ID0gaXRlbS5lb05hbWUuc3BsaXQoJywnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcmxpc3QuaW5kZXhPZih2YXJEYXRhLmFubm90YXRpb24pID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhckRhdGEudHJhaXRMaXN0RGF0YTEucHVzaChfdGhpczYuc3BlY2llc0xpc3RfcGxhbnQuaW5kZXhPZihzcGVjaWVzTmFtZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LiRyZWZzWyd0YWJsZSddLmRvTGF5b3V0KCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5zcGVjaWVzTGlzdF9hbmltYWwgPSBbXTsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnNwZWNpZXNMaXN0X2FuaW1hbF8xID0gW107CgogICAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGRhdGEpOwoKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3ZhckRhdGEgPSBfc3RlcDUudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWinuWKoOS4gOS4quWxnuaAp+S/neWtmOeJqeenjeeahGluZGV477yM55So5p2l5pi+56S66KGo5qC86YeM55qEaWNvbgogICAgICAgICAgICAgICAgICAgICAgICBfdmFyRGF0YS5zcGVjaWVzTGlzdERhdGEgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgX3ZhckRhdGEudHJhaXRMaXN0RGF0YTEgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgX3ZhckRhdGEudHJhaXRMaXN0RGF0YTIgPSBbXTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdmFyRGF0YS5vcnRob2xpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I2ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoX3ZhckRhdGEub3J0aG9saXN0KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNi5zKCk7ICEoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVtID0gX3N0ZXA2LnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3BlY2llc05hbWUgPSBfaXRlbS5zcGVjaWVzLmNvbW1vbk5hbWU7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LnNwZWNpZXNMaXN0X2FuaW1hbC5pbmRleE9mKF9zcGVjaWVzTmFtZSkgPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuc3BlY2llc0xpc3RfYW5pbWFsLnB1c2goX3NwZWNpZXNOYW1lKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZW0uc3BlY2llcy5jaGVja2VkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnNwZWNpZXNMaXN0X2FuaW1hbF8xLnB1c2goX2l0ZW0uc3BlY2llcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92YXJEYXRhLnNwZWNpZXNMaXN0RGF0YS5wdXNoKF90aGlzNi5zcGVjaWVzTGlzdF9hbmltYWwuaW5kZXhPZihfc3BlY2llc05hbWUpKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfaXRlbS5lb05hbWUgIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmnIl0cmFpdOS9huS4jeebuOWQjAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92YXJEYXRhLnRyYWl0TGlzdERhdGEyLnB1c2goX3RoaXM2LnNwZWNpZXNMaXN0X2FuaW1hbC5pbmRleE9mKF9zcGVjaWVzTmFtZSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdmFybGlzdCA9IF9pdGVtLmVvTmFtZS5zcGxpdCgnLCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3Zhcmxpc3QuaW5kZXhPZihfdmFyRGF0YS5hbm5vdGF0aW9uKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmnInnm7jlkIx0cmFpdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZhckRhdGEudHJhaXRMaXN0RGF0YTEucHVzaChfdGhpczYuc3BlY2llc0xpc3RfYW5pbWFsLmluZGV4T2YoX3NwZWNpZXNOYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I2LmUoZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNi5mKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I1LmUoZXJyKTsKICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNS5mKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKGRhdGEpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOS4u+imgeiOt+WPluaVsOaNrueahOaWueazlQogICAgLy8g5qC55o2u5Yqo5qSN54mp5YiG5byA6I635Y+WCiAgICBnZXRUcmFpdERhdGE6IGZ1bmN0aW9uIGdldFRyYWl0RGF0YShleHBOYW1lLCBjbGFzc2lmaWNhdGlvbiwgaGRiSWQpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcGFnZU5vOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM3LmZvcm0uZ2VuZSAhPT0gJycgJiYgX3RoaXM3LmZvcm0uZ2VuZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5mb3JtLmdlbmUgPSBfdGhpczcuZm9ybS5nZW5lLnRyaW0oKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoY2xhc3NpZmljYXRpb24gPT0gImFuaW1hbCIpIHsKICAgICAgICAgICAgICAgICAgcGFnZU5vID0gX3RoaXM3LmN1cnJlbnRQYWdlNF9hOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjbGFzc2lmaWNhdGlvbiA9PSAicGxhbnQiKSB7CiAgICAgICAgICAgICAgICAgIHBhZ2VObyA9IF90aGlzNy5jdXJyZW50UGFnZTRfcDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHBhZ2VObyA9IDE7CiAgICAgICAgICAgICAgICB9IC8vIGNvbnNvbGUubG9nKCJwYXJhbXM6IixleHBOYW1lLGNsYXNzaWZpY2F0aW9uLHBhZ2VzaXplLHBhZ2VudW0sc3BlY2llc05hbWUpOwoKCiAgICAgICAgICAgICAgICBfdGhpczcuJGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo5NDAxL2FwaS9leHByZXNzaW9uLWRhdGEiLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgICdjbGFzc2lmaWNhdGlvbic6IGNsYXNzaWZpY2F0aW9uLAogICAgICAgICAgICAgICAgICAgICdleHBOYW1lJzogZXhwTmFtZSwKICAgICAgICAgICAgICAgICAgICAnbGVuZ3RoJzogX3RoaXM3LnBhZ2VTaXplLAogICAgICAgICAgICAgICAgICAgICdwYWdlTm8nOiBwYWdlTm8sCiAgICAgICAgICAgICAgICAgICAgJ3RheG9uaWQnOiBfdGhpczcuZm9ybS5xdWVyeVNwZWNpZXMsCiAgICAgICAgICAgICAgICAgICAgJ2dlbmVpZCc6IF90aGlzNy5mb3JtLmdlbmUsCiAgICAgICAgICAgICAgICAgICAgImhkYklkIjogaGRiSWQKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInJlc3BvbnNlOiIsIHJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgICAgIGlmIChjbGFzc2lmaWNhdGlvbiA9PSAiYW5pbWFsIikgewogICAgICAgICAgICAgICAgICAgIF90aGlzNy5nZXRTcGVjaWVzKGV4cE5hbWUsICJhbmltYWwiKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnRvdGFsU2l6ZV9hbmltYWwgPSByZXNwb25zZS5kYXRhLnJlY29yZHNUb3RhbDsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnNob3dUYWJsZUljb24ocmVzcG9uc2UuZGF0YS5kYXRhLCBjbGFzc2lmaWNhdGlvbikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczcudHJhaXREYXRhX2FuaW1hbCA9IHJlczsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5sb2FkaW5nX2FuaW1hbCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzNy5nZXRTcGVjaWVzKGV4cE5hbWUsICJwbGFudCIpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczcudG90YWxTaXplX3BsYW50ID0gcmVzcG9uc2UuZGF0YS5yZWNvcmRzVG90YWw7CgogICAgICAgICAgICAgICAgICAgIF90aGlzNy5zaG93VGFibGVJY29uKHJlc3BvbnNlLmRhdGEuZGF0YSwgY2xhc3NpZmljYXRpb24pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnRyYWl0RGF0YV9wbGFudCA9IHJlczsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5sb2FkaW5nX3BsYW50ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5qC55o2u5b2T5YmNY2xhc3NpZmljYXRpb27liKTmlq3ojrflj5bliqjnianmiJbmpI3nianliJfooagKICAgIGdldFNwZWNpZXM6IGZ1bmN0aW9uIGdldFNwZWNpZXMoZXhwTmFtZSwgc3BlY2llc1R5cGUpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6OTQwMS9hcGkvc3BlY2llcy1leHAnLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAiZXhwTmFtZSI6IGV4cE5hbWUsCiAgICAgICAgICBzcGVjaWVzVHlwZTogc3BlY2llc1R5cGUKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8gMuaYr+akjeeJqe+8jDHmmK/liqjniakKICAgICAgICBpZiAoc3BlY2llc1R5cGUgPT0gJ3BsYW50JykgewogICAgICAgICAgX3RoaXM4LnF1ZXJ5U3BlY2llc0xpc3RfcGxhbnQgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczgucXVlcnlTcGVjaWVzTGlzdF9hbmltYWwgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2xlYXJUcmFpdEZpbHRlcjogZnVuY3Rpb24gY2xlYXJUcmFpdEZpbHRlcigpIHsKICAgICAgdGhpcy5leHBJdGVtID0gewogICAgICAgIGV4cE5hbWU6ICIiCiAgICAgIH07CgogICAgICBpZiAodGhpcy5jbGFzc2lmaWNhdGlvbiA9PSAnYW5pbWFsJykgewogICAgICAgIHRoaXMubG9hZGluZ19hbmltYWwgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubG9hZGluZ19wbGFudCA9IHRydWU7CiAgICAgIH0KCiAgICAgIHRoaXMuc2hvd1RpdGxlID0gZmFsc2U7IC8vIGxldCBwYXJhbXMxPXtjbGFzc2lmaWNhdGlvbjoiYW5pbWFsIixwYWdlc2l6ZTp0aGlzLnBhZ2VTaXplLHBhZ2VudW06MX0KICAgICAgLy8gLy8gbGV0IHBhcmFtcz17dHJhaXRJZDp0aGlzLnRyYWl0SXRlbS50cmFpdERlZklELGNsYXNzaWZpY2F0aW9uOnRoaXMudHJhaXRJdGVtLmNsYXNzaWZpY2F0aW9uLHBhZ2VzaXplOnRoaXMucGFnZVNpemUscGFnZW51bToxLHNwZWNpZXNOYW1lOnRoaXMuZm9ybS5xdWVyeVNwZWNpZXN9CiAgICAgIC8vIGxldCBwYXJhbXMyPXtjbGFzc2lmaWNhdGlvbjoicGxhbnQiLHBhZ2VzaXplOnRoaXMucGFnZVNpemUscGFnZW51bToxfQoKICAgICAgdGhpcy5nZXRUcmFpdERhdGEoIiIsICJhbmltYWwiKTsKICAgICAgdGhpcy5nZXRUcmFpdERhdGEoIiIsICJwbGFudCIpOyAvLyB0aGlzLmdldFRyYWl0RGF0YSgiIiwicGxhbnQiKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5jbGFzc2lmaWNhdGlvbiA9PSAnYW5pbWFsJykgewogICAgICB0aGlzLmxvYWRpbmdfYW5pbWFsID0gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMubG9hZGluZ19wbGFudCA9IHRydWU7CiAgICB9CgogICAgdmFyIGhkYklkID0gdGhpcy4kcm91dGUucXVlcnkuaGRiSWQ7CiAgICB0aGlzLmhkYklkID0gaGRiSWQ7IC8vIGlmKGhkYklkIT1udWxsICYmIGhkYklkIT0iIil7fQoKICAgIGlmIChoZGJJZCAhPSAiIiAmJiBoZGJJZCAhPSBudWxsKSB7CiAgICAgIHZhciBjbGFzc2lmaWNhdGlvbjsKCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5zcGVjaWVzVHlwZSA9PSAxKSB7CiAgICAgICAgY2xhc3NpZmljYXRpb24gPSAiYW5pbWFsIjsKICAgICAgICB0aGlzLmNsYXNzaWZpY2F0aW9uID0gImFuaW1hbCI7CiAgICAgIH0gZWxzZSBpZiAodGhpcy4kcm91dGUucXVlcnkuc3BlY2llc1R5cGUgPT0gMikgewogICAgICAgIGNsYXNzaWZpY2F0aW9uID0gInBsYW50IjsKICAgICAgICB0aGlzLmNsYXNzaWZpY2F0aW9uID0gInBsYW50IjsKICAgICAgfQoKICAgICAgdGhpcy5leHBJdGVtID0gewogICAgICAgIGV4cE5hbWU6ICIiCiAgICAgIH0sIHRoaXMuc2hvd1RpdGxlID0gZmFsc2U7IC8vIGxldCBwYXJhbXM9e2hkYklkOmhkYklkLGNsYXNzaWZpY2F0aW9uOmNsYXNzaWZpY2F0aW9ufQoKICAgICAgdGhpcy5nZXRUcmFpdERhdGEodGhpcy5leHBJdGVtLmV4cE5hbWUsIGNsYXNzaWZpY2F0aW9uLCBoZGJJZCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmdldFRyYWl0RGF0YSh0aGlzLmV4cEl0ZW0uZXhwTmFtZSwgImFuaW1hbCIpOwogICAgICB0aGlzLmdldFRyYWl0RGF0YSh0aGlzLmV4cEl0ZW0uZXhwTmFtZSwgInBsYW50Iik7CiAgICB9IC8vIGV4cE5hbWUsY2xhc3NpZmljYXRpb24scGFnZXNpemUscGFnZW51bSxzcGVjaWVzTmFtZQoKCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy53YXRjaFNjcm9sbCk7IC8vIOiOt+WPluWKqOakjeeJqeWQjeensOWIl+ihqO+8jOeUqOS6juS4i+aLiemAieaLqeahhgogICAgLy8gdGhpcy5nZXRTcGVjaWVzKHRoaXMuZXhwSXRlbS5leHBOYW1lLHRoaXMuY2xhc3NpZmljYXRpb24pCiAgICAvLyB0aGlzLmdldFNwZWNpZXModGhpcy5leHBJdGVtLmV4cE5hbWUsInBsYW50IikKCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy53YXRjaFNjcm9sbCk7CiAgICB0aGlzLmdldFRhYmxlTWF4SGVpZ2h0KCk7CgogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB3aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIC8v55So5LqO5L2/6KGo5qC86auY5bqm6Ieq6YCC5bqU55qE5pa55rOVICAKICAgICAgX3RoaXMuZ2V0VGFibGVNYXhIZWlnaHQoKTsgLy/ojrflj5blrrnlmajlvZPliY3pq5jluqbvvIzph43orr7ooajmoLznmoTmnIDlpKfpq5jluqYKCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["Expression.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <HeaderBar />\r\n    <Banner />\r\n    <!-- <Navigator /> -->\r\n    \r\n    <!-- 左侧树结构 -->\r\n    <!-- 抽屉结构 -->\r\n    <el-drawer\r\n      :visible.sync=\"drawer\"\r\n      :direction=\"direction\"\r\n    >\r\n      <div class=\"tree-div\">\r\n      <el-card shadow=\"none\" class=\"tree-card\" >\r\n      <el-input placeholder=\"Enter keywords to filter\" v-model=\"filterText\" class=\"filterInput\"> \r\n      </el-input>\r\n\r\n      <el-tree\r\n        style=\"margin-top: 15px\"\r\n        class=\"filter-tree\"\r\n        :data=\"treedata\"\r\n        default-expand-all\r\n        :filter-node-method=\"filterNode\"\r\n        icon-class=\"el-icon-s-management\"\r\n        ref=\"tree\"\r\n        :expand-on-click-node=\"false\"\r\n        @node-click=\"getInfoByTrait\"\r\n      >\r\n      </el-tree>\r\n      </el-card>\r\n    </div>\r\n    </el-drawer>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\" class=\"arrow-title\">\r\n      <el-breadcrumb-item :to=\"{ path: '/gene' }\">Browse</el-breadcrumb-item>\r\n      <el-breadcrumb-item>Expression</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 侧边栏按钮 -->\r\n  \r\n  <el-container style=\"border: 1px solid #eee;overflow: hidden;\" id=\"trait-container\">\r\n  <div style=\"margin-top:3%\">\r\n  <div class=\"button-wrapper\">\r\n   <el-button @click=\"buttonFunction()\" ref=\"button\" id=\"button\"></el-button>\r\n   <!-- <div class=\"button-text\">Trait Ontology</div> -->\r\n  </div>\r\n   <!-- 灰色title横幅 -->\r\n   <transition name=\"el-zoom-in-top\">\r\n    <div class=\"trait-box trait-infoBox\" v-show=\"showTitle\">\r\n      <div style=\"padding-left:29px;margin-top: -15px;\">\r\n        <h2 class=\"trait-title\">Expression : {{ expItem.expName }} </h2>\r\n      </div>\r\n      <el-button @click=\"clearTraitFilter\" icon=\"el-icon-remove-outline\" round class=\"remove-button\">Remove filter</el-button>\r\n    </div>\r\n    </transition>\r\n    </div>\r\n    <el-card shadow=\"none\" class=\"border-card\">\r\n    <el-tabs v-model=\"classification\" style=\"margin-top:10px;margin-bottom: 1%;\" @tab-click=\"changeClass\">\r\n    <!-- 动物tab -->\r\n    <el-tab-pane label=\"Animal\" name=\"animal\" >\r\n      <!-- <el-card shadow=\"none\" class=\"tableCard\" style=\"margin-top: 10px\"> -->\r\n      <div>\r\n        <div>\r\n            <div class=\"filt-div\">\r\n                <el-input v-model=\"form.gene\" placeholder=\"Query gene\" class=\"gene-input\" clearable></el-input>\r\n                <el-select v-model=\"form.querySpecies\" class=\"filt-spe-select\" placeholder=\"Query species\" clearable>\r\n                    <el-option\r\n                        v-for=\"item in querySpeciesList_animal\"\r\n                        :key=\"item.id\"\r\n                        :label=\"item.commonName\"\r\n                        :value=\"item.taxonId\"\r\n                        >\r\n                    </el-option>\r\n                </el-select>\r\n                <el-button icon=\"el-icon-search\" type=\"success\"  plain id=\"filter-search\" @click=\"searchFilter()\">Search</el-button>\r\n                <el-button icon=\"el-icon-delete\" type=\"primary\"  plain id=\"filter-search2\" @click=\"clearFilter()\">Clear</el-button>\r\n\r\n\r\n                <el-popover\r\n                  placement=\"bottom-end\"\r\n                  width=\"400\"\r\n                  trigger=\"manual\"\r\n                  class=\"popbox\"\r\n                  v-model=\"visible_1\">\r\n                    <div class=\"checkbox-box\">\r\n                      <el-checkbox v-for=\"item of speciesList_animal_1\" :key=\"item.commonName\" :label=\"item.commonName\" class=\"chooseColBox\" ref=\"one\" v-model=\"item.checked\"></el-checkbox>\r\n                    </div>\r\n                    <div class=\"botton-wrapper\">\r\n                      <el-button size=\"mini\" type=\"primary\"  @click=\"confirmbutton\" class=\"choose-col-button\">Close</el-button>\r\n                      <!-- <el-button size=\"mini\" type=\"text\" plain @click=\"visible_1 = false\" class=\"choose-col-button\">cancel</el-button> -->\r\n                    </div>\r\n                  <el-button slot=\"reference\" icon=\"el-icon-s-grid\" type=\"primary\" plain id=\"filterCol\" @click=\"visible_1 = !visible_1\" :disabled=\"speciesList_animal_1.length==0\"></el-button>\r\n                </el-popover>\r\n\r\n\r\n\r\n            </div>\r\n          <!-- </el-card> -->\r\n          <div id=\"wrapper\"  >\r\n          <div class=\"trait-info\">\r\n            \r\n      <!-- 使用中的trait表格 -->\r\n      <!-- <el-container style=\"width:100%;border: 1px solid darkgray;\"> -->\r\n        \r\n          <el-table\r\n            :data=\"traitData_animal\"\r\n            class=\"trait-table\"\r\n            row-key=\"id\"\r\n            ref=\"table\"\r\n            :header-cell-style=\"hiligtDbCols\"\r\n            v-loading=\"loading_animal\"\r\n            border\r\n          >\r\n            <el-table-column align=\"center\" class=\"titleCell\" prop=\"annotation\" label=\"Expression\" fixed width=\"280px\" style=\"background-color:white\"></el-table-column>\r\n            <el-table-column align=\"center\" prop=\"geneId\" label=\"Gene Id\" width=\"220px\" fixed>\r\n              <template slot-scope=\"scope\">\r\n                <a :href=\"'./gene-detail?hdbId='+scope.row.hdbId+'&taxonId='+scope.row.taxonId\">\r\n                    {{ scope.row.geneId }}\r\n                </a>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"commonName\" label=\"Species Name\" width=\"150px\" fixed></el-table-column>\r\n            <el-table-column align=\"center\" prop=\"taxonId\" label=\"Taxon Id\" width=\"160px\" fixed>\r\n              <template slot-scope=\"scope\">\r\n                <a :href=\"'https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=Info&id='+scope.row.taxonId+'&lvl=3&lin=f&keep=1&srchmode=1&unlock'\">\r\n                    {{ scope.row.taxonId }}\r\n                </a>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"speciesCommonName\" label=\"Homolog Species Name\">\r\n            <template v-for=\"(item,index) in speciesList_animal_1\">\r\n              <el-table-column align=\"center\" :label=\"item.commonName\" :prop=\"item.commonName\" v-if=\"item.checked\" :key=\"item.commonName\">\r\n                <template slot-scope=\"scope\" >\r\n                  <img\r\n                    :src=\"orthoIcon\"\r\n                    min-width=\"70\"\r\n                    height=\"70\"\r\n                    class=\"iconImg\"\r\n                    v-if='scope.row.speciesListData.indexOf(index)>-1'\r\n                    style=\"cursor:pointer !important\"\r\n                    @click=showOrthoInfoTable(scope.row,index)\r\n                  />\r\n                  <!--这个v-if，先判断在当前的cell内有数值，然后再判断值 -->\r\n                  <img\r\n                    :src=\"singleTraitIcon\"\r\n                    min-width=\"70\"\r\n                    height=\"70\"\r\n                    class=\"iconImg\"\r\n                    v-if='scope.row.traitListData2.indexOf(index)>-1'\r\n                    style=\"cursor:pointer !important\"\r\n                    @click=showGwasInfoTable(scope.row,index)\r\n                  />\r\n                  <img\r\n                    :src=\"sameTraitIcon\"\r\n                    min-width=\"70\"\r\n                    height=\"70\"\r\n                    class=\"iconImg\"\r\n                    v-if='scope.row.traitListData1.indexOf(index)>-1'\r\n                    style=\"cursor:pointer !important\"\r\n                    @click=showGwasInfoTable(scope.row,index)\r\n                  />\r\n                </template>\r\n              </el-table-column>\r\n            </template>\r\n            </el-table-column>\r\n          </el-table>\r\n      \r\n          <div style=\"position: absolute;float: left;\">\r\n          <div style=\"display: flex;\">\r\n                    <img :src=\"orthoIcon\"\r\n                      style=\"margin-right: 6px;min-width=70px;height=70px;\"\r\n                      class=\"iconImg\" />\r\n                      <div class=\"note-info\">exists homolog gene</div>\r\n          </div>\r\n          <div style=\"display: flex;\">\r\n                    <img :src=\"singleTraitIcon\"   \r\n                      style=\"margin-right: 6px;min-width=70px;height=70px;\"\r\n                      class=\"iconImg\" /><div class=\"note-info\">exists homolog gene with expression annotation</div>  \r\n          </div>\r\n          <div style=\"display: flex;\">\r\n                    <img :src=\"sameTraitIcon\"   \r\n                      style=\"margin-right: 6px;min-width=70px;height=70px;\"\r\n                      class=\"iconImg\" /><div class=\"note-info\">exists homolog gene with same expression annotation</div>  \r\n          </div>\r\n          \r\n          </div>\r\n          <el-pagination\r\n          \r\n            class=\"trait-pag\"\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"currentPage4_a\"\r\n            :page-sizes=\"[10, 20, 50, 100]\"\r\n            :page-size=\"10\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"totalSize_animal\"\r\n          >\r\n          </el-pagination>\r\n      <!-- </el-container> -->\r\n      </div>\r\n</div>\r\n\r\n    <!-- 同源表格 -->\r\n    <!-- <el-card shadow=\"none\" class=\"sub-table-card\"> -->\r\n      \r\n      <div class=\"sub-trait-box \" v-if=\"showOrthoSubTable\">\r\n      <el-divider class=\"divider\"></el-divider>\r\n          <div class=\"title-box\">\r\n            <template>\r\n              <el-descriptions title=\"Selected Gene\" >\r\n                <el-descriptions-item label=\"Gene Id\"><a :href=\"'./gene-detail?hdbId='+selectGene.hdbId+'&taxonId='+selectGene.taxonId\">\r\n                    {{ selectGene.geneId }}\r\n                </a></el-descriptions-item>\r\n                <el-descriptions-item label=\"Protein Id\"><a :href=\"'https://www.uniprot.org/uniprot/'+selectGene.hdbId\" target='_blank'>\r\n                    {{ selectGene.hdbId }}\r\n                </a></el-descriptions-item>\r\n                <el-descriptions-item label=\"Species Name\">{{selectGene.commonName}}</el-descriptions-item>\r\n                <el-descriptions-item label=\"Classification\">{{selectGene.classification}}</el-descriptions-item>\r\n                <el-descriptions-item label=\"Expression\">\r\n                  <el-tag size=\"small\">{{selectGene.annotation}}</el-tag>\r\n                </el-descriptions-item>\r\n                <!-- <el-descriptions-item label=\"Address\"\r\n                  >No.1188, Wuzhong Avenue, Wuzhong District, Suzhou, Jiangsu\r\n                  Province</el-descriptions-item\r\n                > -->\r\n              </el-descriptions>\r\n            </template>\r\n            <el-divider></el-divider>\r\n            <h2 class=\"trait-sub-title\">Homolog Gene Detail Information</h2>\r\n          </div>\r\n      </div>\r\n      <!-- <div id=\"wrapper\"> -->\r\n          <div class=\"trait-info\">\r\n            <el-table\r\n              :data=\"orthoTableData\"\r\n              class=\"info-table\"\r\n              v-loading=\"orthoLoading\"\r\n              v-if=\"showOrthoSubTable\"\r\n              :border=\"false\"\r\n              fixed\r\n              :header-cell-style=\"{background:'#F5F7FA'}\"\r\n          >\r\n              <el-table-column\r\n                  prop=\"commonName\"\r\n                  label=\"Species\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column\r\n                  prop=\"tax\"\r\n                  label=\"Taxon Id\"\r\n              >\r\n              <template slot-scope=\"scope\">\r\n                <a :href=\"'https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=Info&id='+scope.row.tax+'&lvl=3&lin=f&keep=1&srchmode=1&unlock'\">\r\n                    {{ scope.row.tax }}\r\n                </a>\r\n              </template>\r\n              </el-table-column>\r\n              <el-table-column\r\n                  prop=\"ensemblGeneId\"\r\n                  label=\"Ensembl Id\"\r\n              >\r\n              </el-table-column>\r\n               <el-table-column\r\n                prop=\"geneSymbol\"\r\n                label=\"Gene Symbol\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column\r\n                  prop=\"hdbId\"\r\n                  label=\"Protein Id\"\r\n                >\r\n                  <template slot-scope=\"scope\">\r\n                    <a :href=\"'https://www.uniprot.org/uniprot/'+scope.row.hdbId\" target='_blank' v-if=\"scope.row.hdbId.slice(0,2)!=='EN'\">\r\n                        {{ scope.row.hdbId }}\r\n                    </a>\r\n                    <a :href=\"'https://asia.ensembl.org/Multi/Search/Results?q='+scope.row.hdbId+';site=ensembl'\" target='_blank' v-if=\"scope.row.hdbId.slice(0,2)=='EN'\">\r\n                        {{ scope.row.hdbId }}\r\n                    </a>\r\n                  </template>\r\n              </el-table-column>\r\n              <el-table-column  label=\"Data Source\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-popover\r\n                        placement=\"top\"\r\n                        title=\"Data Source\"\r\n                        width=\"200\"\r\n                        trigger=\"hover\"\r\n                        :content=\"scope.row.dbEvidence\">\r\n                        <i class=\"el-icon-s-order\" slot=\"reference\" width=\"30px\"></i>\r\n                    </el-popover>\r\n                    \r\n                </template>\r\n            </el-table-column>\r\n            </el-table>\r\n          </div>\r\n\r\n      <!-- </div> -->\r\n    <!-- </el-card> -->\r\n\r\n      <!-- gwas 表格 -->\r\n    <!-- <el-card shadow=\"none\"  class=\"sub-table-card\"> -->\r\n       \r\n      <div class=\"sub-trait-box\" v-if=\"showSubTableBox\">\r\n        <div  class=\"title-box\" >\r\n          <h3 class=\"trait-sub-title\">Expression Detail Information</h3>\r\n        </div>\r\n        <div id=\"trait-info\">\r\n            <!-- <el-card shadow=\"none\" class=\"gwasDetailCard\"> -->\r\n              <el-table \r\n                :data=\"gwasInfoData\"\r\n                id=\"subTable\"\r\n                :row-style=\"{height: '0'}\"\r\n                max-height=\"800\"\r\n                v-loading=\"gwasLoading\"\r\n                :header-cell-style=\"{background:'#F5F7FA'}\"\r\n              >\r\n                <el-table-column prop=\"geneId\" label=\"Gene Id\">\r\n                  <template slot-scope=\"scope\">\r\n                      <a :href=\"'https://ngdc.cncb.ac.cn/gen/gene/'+scope.row.genOrgId+'/'+scope.row.geneId\" target='_blank'>\r\n                          {{ scope.row.geneId }}\r\n                      </a>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"annotation\" label=\"Expression\"></el-table-column>\r\n                <el-table-column prop=\"bioProjectIdList\" label=\"Bioproject Id\">\r\n                  <template slot-scope=\"scope\">\r\n                    <div v-for=\"(item,index) of scope.row.bioProjectIdList\" :key=\"index\" style=\"display: flex;float:left\">\r\n                      <a :href=\"'https://ngdc.cncb.ac.cn/gen/project/accession/'+item\" target='_blank'>\r\n                          {{ item }}\r\n                      </a>\r\n                      <div v-if=\"index<scope.row.bioProjectIdList.length-1\">,</div>\r\n                    </div>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"commonName\" label=\"Species\"></el-table-column>\r\n                <el-table-column prop=\"taxonId\" label=\"Taxon Id\">\r\n                  <template slot-scope=\"scope\">\r\n                    <a :href=\"'https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=Info&id='+scope.row.taxonId+'&lvl=3&lin=f&keep=1&srchmode=1&unlock'\">\r\n                        {{ scope.row.taxonId }}\r\n                    </a>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"Box-plot\">\r\n                  <template slot-scope=\"scope\" >\r\n                     \r\n                    <el-popover\r\n                      placement=\"left\"\r\n                      width=\"300\"\r\n                      trigger=\"manual\"\r\n                      class=\"popbox\"\r\n                      v-model=scope.row.showpop\r\n                    >\r\n                    <div class=\"checkbox-box\">\r\n                      <el-radio \r\n                        v-for=\"item in scope.row.bioProjectIdList\"\r\n                        :key=\"item.id\"\r\n                        :label=\"item\"\r\n                        v-model=\"scope.row.selectPrj\">\r\n                      </el-radio >\r\n                    </div>\r\n                      <div class=\"botton-wrapper\">\r\n                        <el-button size=\"mini\" type=\"primary\"  @click=showDetailExpression(scope.row) class=\"choose-col-button\">confirm</el-button>\r\n                        <el-button size=\"mini\" type=\"text\" plain @click=\"scope.row.showpop = false\" class=\"choose-col-button\">cancel</el-button>\r\n                      </div>\r\n                      <img\r\n                      :src=\"detailIcon\"\r\n                      min-width=\"25\"\r\n                      height=\"25\"\r\n                      style=\"cursor:pointer !important\"\r\n                      slot=\"reference\"\r\n                      @click=\"scope.row.showpop = true\"\r\n                    />\r\n                    </el-popover>\r\n                   \r\n                  </template>\r\n                  \r\n                </el-table-column>\r\n              </el-table>\r\n            <!-- </el-card> -->\r\n        </div>\r\n      </div>\r\n    <!-- </el-card> -->\r\n      </div>\r\n      </div>\r\n      <!-- </div> -->\r\n      <!-- </el-card> -->\r\n    </el-tab-pane>\r\n     <!-- 植物tab -->\r\n    <el-tab-pane label=\"Plant\" name=\"plant\">\r\n      <div class=\"filt-div\">\r\n            <el-input v-model=\"form.gene\" placeholder=\"Query gene\" class=\"gene-input\" clearable></el-input>\r\n            <el-select v-model=\"form.querySpecies\" class=\"filt-spe-select\" placeholder=\"Query species\" clearable>\r\n                <el-option\r\n                    v-for=\"item in querySpeciesList_plant\"\r\n                    :key=\"item.id\"\r\n                    :label=\"item.commonName\"\r\n                    :value=\"item.taxonId\"\r\n                    >\r\n                </el-option>\r\n            </el-select>\r\n            <el-button icon=\"el-icon-search\" type=\"success\" plain id=\"filter-search\" @click=\"searchFilter()\">Search</el-button>\r\n            <el-button icon=\"el-icon-delete\" type=\"primary\" plain id=\"filter-search2\" @click=\"clearFilter()\">Clear</el-button>\r\n\r\n            <el-popover\r\n              placement=\"bottom-end\"\r\n              width=\"400\"\r\n              trigger=\"manual\"\r\n              class=\"popbox\"\r\n              v-model=\"visible\">\r\n                <div class=\"checkbox-box\">\r\n                  <el-checkbox v-for=\"item of speciesList_plant_1\" :key=\"item.commonName\" :label=\"item.commonName\" class=\"chooseColBox\" ref=\"one\" v-model=\"item.checked\"></el-checkbox>\r\n                <!-- <el-checkbox  class=\"chooseColBox\" @change=\"chooseall\" ref=\"all\">Choose All</el-checkbox> -->\r\n                </div>\r\n                <div class=\"botton-wrapper\">\r\n                  <el-button size=\"mini\" type=\"primary\"  @click=\"confirmbutton\" class=\"choose-col-button\">Close</el-button>\r\n                  <!-- <el-button size=\"mini\" type=\"text\" plain @click=\"visible = false\" class=\"choose-col-button\">cancel</el-button> -->\r\n                </div>\r\n                <el-button slot=\"reference\" icon=\"el-icon-s-grid\" type=\"primary\" plain id=\"filterCol\" @click=\"visible = !visible\" :disabled=\"speciesList_plant_1.length==0\"></el-button>\r\n              </el-popover>\r\n\r\n      </div>\r\n      <!-- <div class=\"wraper\"> -->\r\n        \r\n      <div class=\"trait-info\">\r\n   <!-- 使用中的表格 -->\r\n        <el-table\r\n            :data=\"traitData_plant\"\r\n            class=\"trait-table\"\r\n            row-key=\"id\"\r\n            v-loading=\"loading_plant\"\r\n            ref=\"table\"\r\n            :header-cell-style=\"hiligtDbCols\"\r\n            border\r\n          >\r\n            <el-table-column align=\"center\" class=\"titleCell\" prop=\"annotation\" label=\"Expression\" fixed width=\"280px\" style=\"background-color:white\"></el-table-column>\r\n            <el-table-column align=\"center\" prop=\"geneId\" label=\"Gene Id\" width=\"220px\" fixed>\r\n              <template slot-scope=\"scope\">\r\n                <a :href=\"'./gene-detail?hdbId='+scope.row.hdbId+'&taxonId='+scope.row.taxonId\">\r\n                    {{ scope.row.geneId }}\r\n                </a>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"commonName\" label=\"Species Name\" width=\"150px\" fixed></el-table-column>\r\n            <el-table-column align=\"center\" prop=\"taxonId\" label=\"Taxon Id\" width=\"160px\" fixed>\r\n               <template slot-scope=\"scope\">\r\n                <a :href=\"'https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=Info&id='+scope.row.taxonId+'&lvl=3&lin=f&keep=1&srchmode=1&unlock'\">\r\n                    {{ scope.row.taxonId }}\r\n                </a>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column align=\"center\" prop=\"speciesCommonName\" label=\"Homolog Species Name\">\r\n            <template v-for=\"(item,index) in speciesList_plant_1\">\r\n              <el-table-column align=\"center\" :label=\"item.commonName\" :prop=\"item.commonName\" v-if=\"item.checked\" :key=\"item.commonName\">\r\n            <!-- <el-table-column :label=\"item\" :show-overflow-tooltip=\"true\" :prop=\"item\" v-for=\"(item,index) in speciesList_plant\" :key=\"index\"\r\n              class=\"imglink\" height=\"100px\"> -->\r\n                  <template slot-scope=\"scope\" >\r\n                   <img\r\n                    :src=\"orthoIcon\"\r\n                    min-width=\"70\"\r\n                    height=\"70\"\r\n                    class=\"iconImg\"\r\n                    v-if='scope.row.speciesListData.indexOf(index)>-1'\r\n                    style=\"cursor:pointer !important\"\r\n                    @click=showOrthoInfoTable(scope.row,index)\r\n                  />\r\n                  <!--这个v-if，先判断在当前的cell内有数值，然后再判断值 -->\r\n                  <img\r\n                    :src=\"singleTraitIcon\"\r\n                    min-width=\"70\"\r\n                    height=\"70\"\r\n                    class=\"iconImg\"\r\n                    v-if='scope.row.traitListData2.indexOf(index)>-1'\r\n                    style=\"cursor:pointer !important\"\r\n                    @click=showGwasInfoTable(scope.row,index)\r\n                  />\r\n                   <img\r\n                    :src=\"sameTraitIcon\"\r\n                    min-width=\"70\"\r\n                    height=\"70\"\r\n                    class=\"iconImg\"\r\n                    v-if='scope.row.traitListData1.indexOf(index)>-1'\r\n                    style=\"cursor:pointer !important\"\r\n                    @click=showGwasInfoTable(scope.row,index)\r\n                  />\r\n                  </template>\r\n              </el-table-column>\r\n            </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        <div style=\"position: absolute;float: left;\">\r\n       <div style=\"display: flex;\">\r\n                    <img :src=\"orthoIcon\"\r\n                      style=\"margin-right: 6px;min-width=70px;height=70px;\"\r\n                      class=\"iconImg\" />\r\n                      <div class=\"note-info\">exists homolog gene</div>\r\n          </div>\r\n          <div style=\"display: flex;\">\r\n                    <img :src=\"singleTraitIcon\"   \r\n                      style=\"margin-right: 6px;min-width=70px;height=70px;\"\r\n                      class=\"iconImg\" /><div class=\"note-info\">exists homolog gene with expression annotation</div>  \r\n          </div>\r\n          <div style=\"display: flex;\">\r\n                    <img :src=\"sameTraitIcon\"   \r\n                      style=\"margin-right: 6px;min-width=70px;height=70px;\"\r\n                      class=\"iconImg\" /><div class=\"note-info\">exists homolog gene with same expression annotation</div>  \r\n          </div>\r\n        </div>\r\n        <el-pagination\r\n          class=\"trait-pag\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"currentPage4_p\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          :page-size=\"10\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"totalSize_plant\"\r\n        >\r\n        </el-pagination>\r\n        <div class=\"sub-trait-box \" v-if=\"showOrthoSubTable\">\r\n      <el-divider style=\"padding-top:5px\"></el-divider>\r\n          <div class=\"title-box\">\r\n            <template>\r\n              <el-descriptions title=\"Selected Gene\" >\r\n                <el-descriptions-item label=\"Gene Id\"><a :href=\"'./gene-detail?hdbId='+selectGene.hdbId+'&taxonId='+selectGene.taxonId\">\r\n                    {{ selectGene.geneId }}\r\n                </a></el-descriptions-item>\r\n                <el-descriptions-item label=\"Protein Id\"><a :href=\"'https://www.uniprot.org/uniprot/'+selectGene.hdbId\" target='_blank'>\r\n                    {{ selectGene.hdbId }}\r\n                </a></el-descriptions-item>\r\n                <el-descriptions-item label=\"Species Name\">{{selectGene.speciesCommonName}}</el-descriptions-item>\r\n                <el-descriptions-item label=\"Classification\">{{selectGene.classification}}</el-descriptions-item>\r\n                <el-descriptions-item label=\"Expression\">\r\n                  <el-tag size=\"small\">{{selectGene.annotation}}</el-tag>\r\n                </el-descriptions-item>\r\n                <!-- <el-descriptions-item label=\"Address\"\r\n                  >No.1188, Wuzhong Avenue, Wuzhong District, Suzhou, Jiangsu\r\n                  Province</el-descriptions-item\r\n                > -->\r\n              </el-descriptions>\r\n            </template>\r\n            <el-divider></el-divider>\r\n            <h2 class=\"trait-sub-title\">Homolog Gene Detail Information</h2>\r\n          </div>\r\n      </div>\r\n    <!-- 同源表格 -->\r\n          <el-table\r\n            :data=\"orthoTableData\"\r\n            class=\"info-table\"\r\n            v-loading=\"orthoLoading\"\r\n            v-if=\"showOrthoSubTable\"\r\n            :border=\"false\"\r\n            :header-cell-style=\"{background:'#F5F7FA'}\"\r\n        >\r\n            <el-table-column\r\n                  prop=\"commonName\"\r\n                  label=\"Species\"\r\n            >\r\n              </el-table-column>\r\n              <el-table-column\r\n                  prop=\"tax\"\r\n                  label=\"Taxon Id\"\r\n            >\r\n             <template slot-scope=\"scope\">\r\n                <a :href=\"'https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=Info&id='+scope.row.tax+'&lvl=3&lin=f&keep=1&srchmode=1&unlock'\">\r\n                    {{ scope.row.tax }}\r\n                </a>\r\n              </template>\r\n              </el-table-column>\r\n              <el-table-column\r\n                  prop=\"ensemblGeneId\"\r\n                  label=\"Ensembl Id\"\r\n              >\r\n              </el-table-column>\r\n               <el-table-column\r\n                prop=\"geneSymbol\"\r\n                label=\"Gene Symbol\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column\r\n                  prop=\"hdbId\"\r\n                  label=\"Protein Id\"\r\n              >\r\n                  <template slot-scope=\"scope\" v-if=\"scope.row.hdbId.slice(0,2)!=='EN'\">\r\n                \r\n                    <a :href=\"'https://www.uniprot.org/uniprot/'+scope.row.hdbId\" target='_blank'>\r\n                        {{ scope.row.hdbId }}\r\n                    </a>\r\n                  </template>\r\n              </el-table-column>\r\n              <el-table-column  label=\"Data Source\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-popover\r\n                        placement=\"top\"\r\n                        title=\"Data Source\"\r\n                        width=\"200\"\r\n                        trigger=\"hover\"\r\n                        :content=\"scope.row.dbEvidence\">\r\n                        <i class=\"el-icon-s-order\" slot=\"reference\" width=\"30px\"></i>\r\n                    </el-popover>\r\n                    \r\n                </template>\r\n            </el-table-column>\r\n          </el-table>\r\n    <!-- gwas detail info表格 -->\r\n      <div class=\"sub-trait-box\" v-if=\"showSubTableBox\">\r\n        <div  class=\"title-box\" style=\"padding-left:1.5%;margin-bottom:1.3%\">\r\n          <h3 class=\"trait-sub-title\">Expression Detail Information</h3>\r\n        </div>\r\n        <div id=\"trait-info\">\r\n            <!-- <el-card shadow=\"none\" class=\"gwasDetailCard\"> -->\r\n              <el-table \r\n                :data=\"gwasInfoData\"\r\n                style=\"width: 100%;margin-top:3%;\"\r\n                id=\"subTable\"\r\n                :row-style=\"{height: '0'}\"\r\n                max-height=\"800\"\r\n                v-loading=\"gwasLoading\"\r\n                :header-cell-style=\"{background:'#F5F7FA'}\"\r\n              >\r\n                <el-table-column prop=\"geneId\" label=\"Gene Id\">\r\n                  <template slot-scope=\"scope\">\r\n                      <a :href=\"'https://ngdc.cncb.ac.cn/gen/gene/'+scope.row.genOrgId+'/'+scope.row.geneId\" target='_blank'>\r\n                          {{ scope.row.geneId }}\r\n                      </a>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"annotation\" label=\"Expression\"></el-table-column>\r\n                <el-table-column prop=\"bioProjectIdList\" label=\"Bioproject Id\">\r\n                  <template slot-scope=\"scope\">\r\n                    <div v-for=\"(item,index) of scope.row.bioProjectIdList\" :key=\"index\" style=\"display: flex;float:left\">\r\n                      <a :href=\"'https://ngdc.cncb.ac.cn/gen/project/accession/'+item\" target='_blank'>\r\n                          {{ item }}\r\n                      </a>\r\n                      <div v-if=\"index<scope.row.bioProjectIdList.length-1\">,</div>\r\n                    </div>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"speciesCommonName\" label=\"Species\"></el-table-column>\r\n                <el-table-column prop=\"taxonId\" label=\"Taxon Id\">\r\n                   <template slot-scope=\"scope\">\r\n                    <a :href=\"'https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=Info&id='+scope.row.taxonId+'&lvl=3&lin=f&keep=1&srchmode=1&unlock'\">\r\n                        {{ scope.row.taxonId }}\r\n                    </a>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"Box-plot\">\r\n                  <template slot-scope=\"scope\" >\r\n                    <el-popover\r\n                      placement=\"top\"\r\n                      width=\"300\"\r\n                      trigger=\"manual\"\r\n                      class=\"popbox\"\r\n                      v-model=scope.row.showpop\r\n                    >\r\n                    <div class=\"checkbox-box\">\r\n                      <el-radio \r\n                        v-for=\"item in scope.row.bioProjectIdList\"\r\n                        :key=\"item.id\"\r\n                        :label=\"item\"\r\n                        v-model=\"scope.row.selectPrj\">\r\n                      </el-radio >\r\n                    </div>\r\n                      <div class=\"botton-wrapper\">\r\n                        <el-button size=\"mini\" type=\"primary\"  @click=showDetailExpression(scope.row) class=\"choose-col-button\">confirm</el-button>\r\n                        <el-button size=\"mini\" type=\"text\" plain @click=\"scope.row.showpop = false\" class=\"choose-col-button\">cancel</el-button>\r\n                      </div>\r\n                    </el-popover>\r\n                    <img\r\n                      :src=\"detailIcon\"\r\n                      min-width=\"25\"\r\n                      height=\"25\"\r\n                      style=\"cursor:pointer !important\"\r\n                      @click=\"scope.row.showpop = true\"\r\n                    />\r\n                  </template>\r\n                  \r\n                </el-table-column>\r\n              </el-table>\r\n            <!-- </el-card> -->\r\n        </div>\r\n      </div>\r\n      </div>\r\n    <!-- </div> -->\r\n     \r\n     \r\n      <!-- </el-card> -->\r\n    </el-tab-pane>\r\n    \r\n    \r\n    </el-tabs>\r\n    </el-card>\r\n    </el-container>\r\n    <FooterBar />\r\n    <template>\r\n     <el-backtop\r\n      :bottom=\"100\"\r\n      style=\"z-index: 999;\"\r\n      class=\"backTop\"\r\n    >\r\n      <div\r\n        style=\"\r\n           {\r\n            height: 100%;\r\n            width: 100%;\r\n            box-shadow: 0 0 6px rgba(0, 0, 0, 0.12);\r\n            text-align: center;\r\n            line-height: 40px;\r\n            color: #1989fa;\r\n            border-radius: 50%;\r\n            background-color: white;\r\n          }\r\n        \"\r\n      >\r\n      <i class=\"el-icon-caret-top\"></i>\r\n      </div>\r\n    </el-backtop>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<style src=\"../assets/css/traits.css\" scoped></style>\r\n<style>\r\n.el-message-box{\r\n  width: auto !important;\r\n}\r\n</style>\r\n<script>\r\n// @ is an alias to /src\r\n// import Navigator from \"@/components/navigator.vue\";\r\nimport expOntology from \"@/assets/static/expression.json\";\r\nimport Banner from \"@/components/banner.vue\";\r\nimport FooterBar from \"@/components/FooterBar.vue\";\r\nimport HeaderBar from \"@/components/HeaderBar.vue\";\r\n// import qs from \"qs\";\r\n// // icons\r\nimport sameTraitIcon from \"@/assets/img/icon/star.svg\";\r\nimport detailIcon from \"@/assets/img/icon/details.svg\";\r\nimport orthoIcon from \"@/assets/img/icon/huafu.svg\";\r\nimport singleTraitIcon from \"@/assets/img/icon/orange.svg\";\r\n// import \"@/assets/css/traits.css\";\r\nexport default {\r\n  name: \"Traits\",\r\n  components: {\r\n    // Navigator,\r\n    FooterBar,\r\n    HeaderBar,\r\n    Banner,\r\n    \r\n  },\r\n  watch: {\r\n    filterText(val) {\r\n      this.$refs.tree.filter(val);\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      sameTraitIcon,\r\n      detailIcon,\r\n      orthoIcon,\r\n      singleTraitIcon,\r\n      visible:false,\r\n      visible_1:false,\r\n      filterText: \"\",\r\n      treedata: expOntology.tree,\r\n      showSubTableBox:false,\r\n      gwasLoading:true,\r\n      orthoLoading:true,\r\n      drawer:false,\r\n      direction:\"ltr\",\r\n       // 保存同源物种，用于表格生成列\r\n      speciesList_animal:[],\r\n      speciesList_plant:[],\r\n       // 保存同源物种obj，用于动态选择列\r\n      speciesList_animal_1:[],\r\n      speciesList_plant_1:[],\r\n      traitData_animal: [],\r\n      traitData_plant:[],\r\n      orthoTableData: [],\r\n      value: \"\",\r\n      expItem:{\r\n        expName:\"Cardiovascular system\"\r\n      },\r\n      currentPage4_a: 1,\r\n      currentPage4_p: 1,\r\n      totalSize_animal: 0,\r\n      totalSize_plant: 0,\r\n      form: {\r\n        querySpecies:\"\",\r\n        gene:\"\"\r\n      },\r\n      pageSize: 10,\r\n      gwasInfoData:[],\r\n      loading_animal:true,\r\n      loading_plant:true,\r\n      showOrthoSubTable:false,\r\n      classification:\"animal\",\r\n      navBarFixed:\"false\",\r\n      showTraitSameIcon:false,\r\n       // 从接口获取所有有trait数据的物种，用于物种选择，提交search\r\n      querySpeciesList_animal:[],\r\n      querySpeciesList_plant:[],\r\n      querySpeciesList:[],\r\n      selectGene:{},\r\n      exp_prjList:[],\r\n      project_val:\"\",\r\n      visible_2:false,\r\n      showTitle:true\r\n    };\r\n  },\r\n\r\n  methods: {\r\n   \r\n    changeClass(tab){\r\n        this.showOrthoSubTable=false;\r\n        this.showSubTableBox=false;\r\n        this.$refs['table'].doLayout();\r\n        this.form.querySpecies='';\r\n        this.form.gene='';\r\n        this.classification=tab.name\r\n    },\r\n\r\n    confirmbutton(){\r\n    this.visible_1 = false;\r\n    this.visible = false;\r\n    this.$refs.table.doLayout();\r\n   },\r\n   confirmbutton2(){\r\n    this.visible_2 = false;\r\n    this.visible2 = false;\r\n   },\r\n    handleSizeChange(val){\r\n      // this.loading = true;\r\n      if(this.classification==\"animal\"){\r\n        this.currentPage4_a=1\r\n        this.loading_animal=true;\r\n      }else{\r\n        this.loading_plant=true\r\n        this.currentPage4_p=1\r\n      }\r\n      this.pageSize = val;\r\n      this.getTraitData(this.expItem.expName,this.classification,this.hdbId)\r\n    },\r\n    handleCurrentChange(val) {\r\n      if(this.classification==\"animal\"){\r\n        this.loading_animal=true;\r\n        this.currentPage4_a = val;\r\n        // traitId,classification,pagesize,pagenum,speciesName\r\n      }else{\r\n        this.loading_plant=true;\r\n        this.currentPage4_p = val;\r\n      }\r\n      this.getTraitData(this.expItem.expName,this.classification,this.hdbId)\r\n\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    filterNode(value, data) {\r\n      if (!value) return true;\r\n      return data.label.indexOf(value) !== -1;\r\n    },\r\n    getInfoByTrait(value, data) {\r\n      this.hdbId=\"\";\r\n      this.showTitle=true;\r\n      console.log(\"classification:\",value.classification);\r\n      this.expItem.expName=value.label;\r\n      this.expItem.classification=value.classification\r\n      if(value.classification!==\"\"&&value.classification!==null){\r\n        if(value.classification==\"animal\"){\r\n          this.classification=\"animal\"\r\n        }else{\r\n          this.classification=\"plant\"\r\n        }\r\n      }\r\n      this.loading_animal=true;\r\n      this.getTraitData(value.label,\"animal\");\r\n      this.loading_plant=true;\r\n      this.getTraitData(value.label,\"plant\")\r\n      this.currentPage4_p=1;\r\n      this.currentPage4_a=1;\r\n      \r\n      data.checked = true;\r\n      this.showSubTableBox=false;\r\n      this.showOrthoSubTable=false;\r\n    },\r\n    showSelectedGene(rowData){\r\n      this.selectGene=rowData;\r\n  },\r\n    \r\n  showOrthoInfoTable(rowData,index){\r\n     this.showSelectedGene(rowData,index)\r\n    // console.log(\"rowData,index:\",rowData,index);\r\n    // rowData.orthoList[rowData.speciesListData.indexOf(index)];\r\n    let ortholist=[];\r\n    rowData.speciesListData.forEach((id,idx)=>{\r\n      if(id==index){\r\n        ortholist.push(rowData.ortholist[idx])\r\n    }})\r\n    // console.log(\"index list:\",ortholist);\r\n\r\n    // rowData.\r\n    this.showOrthoSubTable = true;\r\n    this.showSubTableBox=false;\r\n    this.orthoLoading=false;\r\n    this.orthoTableData=[]\r\n    ortholist.forEach(item=>{\r\n      let hdbid=item.hdbId;\r\n      this.$axios.get(\"https://ngdc.cncb.ac.cn/hapi/api/gene-detail-ortho\",{params:{\"hdbId\":hdbid}}).then((res)=>{\r\n        console.log(\"gene res:\",res);\r\n        item.ensemblGeneId=res.data.ensemblGeneId.length>0?res.data.ensemblGeneId:\"-\";\r\n        item.geneSymbol=res.data.geneSymbol.length>0?res.data.geneSymbol:\"-\";\r\n        this.orthoTableData.push(item)\r\n        this.orthoLoading=false;\r\n      })\r\n    })\r\n    // this.orthoTableData=ortholist;\r\n    console.log(\"orthoTableData:\",this.orthoTableData);\r\n    // 应该发送请求去genebasicinfo查具体的基因相关信息\r\n\r\n  },\r\n \r\n  // 表格高度自适应\r\n  getTableMaxHeight(){\r\n      this.$nextTick(function () {\r\n      let box = document.querySelector(\".trait-info\").attributes\r\n      let box_clientHeight = box[0].ownerElement.clientHeight;\r\n      this.tableHeight = box_clientHeight - 100;\r\n    })\r\n  },\r\n  buttonFunction(){\r\n    this.drawer = true;\r\n   },\r\n  drawBoxPlot(expTabledataTotal,index,nameList){\r\n    var chartDom = document.getElementById('main');\r\n    console.log(\"expTabledataTotal:\",expTabledataTotal[index]);\r\n    var myChart = this.$echarts.init(chartDom);\r\n    var option;\r\n\r\n    option = {\r\n      title: [\r\n        {\r\n          text: 'Expression value Box-plot in Bioproject',\r\n          left: 'center'\r\n        },\r\n        \r\n      ],\r\n      dataset: [\r\n        {\r\n          // prettier-ignore\r\n          source: expTabledataTotal[index][0]\r\n        },\r\n        {\r\n          transform: {\r\n            type: 'boxplot',\r\n            config: { itemNameFormatter: function(params){\r\n                return nameList[index][params.value]\r\n            } }\r\n          }\r\n        },\r\n        {\r\n          fromDatasetIndex: 1,\r\n          fromTransformResult: 1\r\n        }\r\n      ],\r\n      tooltip: {\r\n        trigger: 'item',\r\n        axisPointer: {\r\n          type: 'shadow'\r\n        }\r\n      },\r\n      grid: {\r\n        left: '10%',\r\n        right: '10%',\r\n        bottom: '15%'\r\n      },\r\n      xAxis: {\r\n        type: 'category',\r\n        boundaryGap: true,\r\n        name: 'Tissue',\r\n        nameGap: 30,\r\n        splitArea: {\r\n          show: false\r\n        },\r\n        splitLine: {\r\n          show: false\r\n        }\r\n      },\r\n      yAxis: {\r\n        type: 'value',\r\n        name: 'TPM value',\r\n        splitArea: {\r\n          show: true\r\n        }\r\n      },\r\n      series: [\r\n        {\r\n          name: 'boxplot',\r\n          type: 'boxplot',\r\n          datasetIndex: 1\r\n        },\r\n        {\r\n          name: 'outlier',\r\n          type: 'scatter',\r\n          datasetIndex: 2\r\n        }\r\n      ]\r\n    };\r\n\r\n    option && myChart.setOption(option);\r\n\r\n   },\r\n  showDetailExpression(value){\r\n    if(value.selectPrj !==null && value.selectPrj!==undefined){\r\n    value.showpop=false;\r\n    console.log(\"selectPrj:\",value.selectPrj);\r\n    this.visible_2 = !this.visible_2\r\n    console.log(\"exp value:\",value);\r\n    let PATH=\"https://ngdc.cncb.ac.cn/gen/api/json/gene/expressions?taxonomyId=\"+value.taxonId+\"&accession=\"+value.geneId+\"&bioProjectId=\"+value.bioProjectId\r\n    // const h = this.$createElement;\r\n    this.$axios.get(PATH).then(response=>{\r\n        let expdata=response.data.result.expressionProfiles\r\n        console.log(\"expression response:\",response.data.result.expressionProfiles);\r\n        this.exp_prjList=value.bioProjectId.split(',');\r\n        this.$alert(`\r\n          <div id=\"main\" style=\"width:1300px;height:800px\"></div>\r\n        `, {\r\n          dangerouslyUseHTMLString: true\r\n        })\r\n        let expTabledataTotal=[];\r\n        let nameList=[];\r\n        let prjListall=[];\r\n        for(let keyaa in expdata ){\r\n          if(prjListall.indexOf(keyaa)==-1){\r\n            prjListall.push(keyaa)\r\n          }\r\n            let expTabledata=[];\r\n            let prjList=expdata[keyaa]\r\n            let expNum=0;\r\n            // let sampleNum=0;\r\n            let tissue={};\r\n            let subnamelist=[];\r\n            for(let item of prjList){\r\n                // sampleNum += 1;\r\n                expNum += item.tpm;\r\n                let itemTissue=item.tissue\r\n                if(Object.keys(tissue).indexOf(itemTissue) == -1 ){\r\n                    tissue[itemTissue]=[expNum]\r\n                    subnamelist.push(itemTissue);\r\n                }else{\r\n                    tissue[itemTissue].push(expNum)\r\n                }\r\n            }\r\n            \r\n            for(let tissueName in tissue){\r\n                let valueList=tissue[tissueName];\r\n                console.log(\"valueList:\",valueList,tissueName);\r\n                expTabledata.push(valueList);\r\n                \r\n            }\r\n            expTabledataTotal.push([expTabledata])\r\n            nameList.push(subnamelist)\r\n        }\r\n        console.log(\"nameList:\",nameList);\r\n        let index=prjListall.indexOf(value.selectPrj)\r\n        setTimeout(() => {\r\n          this.drawBoxPlot(expTabledataTotal,index,nameList);\r\n        }, 100);\r\n    })\r\n    }else{\r\n       this.$message.error('Plese select a Bioproject');\r\n    }\r\n  },\r\n  showGwasInfoTable(rowValue,index){\r\n    this.showSelectedGene(rowValue,index)\r\n\r\n    let ortholist=[];\r\n    let hdblist=[rowValue.hdbId]\r\n    rowValue.speciesListData.forEach((id,idx)=>{\r\n      if(id==index){\r\n        let item=rowValue.ortholist[idx]\r\n        console.log(\"item:\",item);\r\n        ortholist.push(item)\r\n        hdblist.push(item.hdbId)\r\n    }})\r\n\r\n     ortholist.forEach(item=>{\r\n      let hdbid=item.hdbId;\r\n      this.$axios.get(\"https://ngdc.cncb.ac.cn/hapi/api/gene-detail-ortho\",{params:{\"hdbId\":hdbid}}).then((res)=>{\r\n        console.log(\"gene res:\",res);\r\n        item.ensemblGeneId=res.data.ensemblGeneId.length>0?res.data.ensemblGeneId:\"-\";\r\n        item.geneSymbol=res.data.geneSymbol.length>0?res.data.geneSymbol:\"-\";\r\n        this.orthoTableData.push(item)\r\n        this.orthoLoading=false;\r\n      })\r\n    })\r\n    // this.orthoTableData=ortholist;\r\n    // this.orthoLoading=false;\r\n    this.showSubTableBox=true;\r\n    this.gwasInfoData=[];\r\n    hdblist.forEach(hdbid=>{\r\n      this.$axios.get(\"https://ngdc.cncb.ac.cn/hapi/api/expression-gene\",{params:{'hdbId': hdbid}})\r\n      .then(response=>{\r\n        console.log(\"gwas response:\",response);\r\n        for(let item of response.data){\r\n          item.bioProjectIdList=item.bioProjectId.split(\",\")\r\n        }\r\n        this.gwasInfoData=this.gwasInfoData.concat(response.data);\r\n        this.gwasLoading=false;\r\n      })\r\n    })\r\n    this.showOrthoSubTable = true;\r\n\r\n   },\r\n    hiligtDbCols({rowIndex}){\r\n      if(rowIndex===1){\r\n          return \"writing-mode: vertical-lr; !important;text-align:right\"\r\n      }\r\n      \r\n    },\r\n \r\n   \r\n    searchFilter(){\r\n      if(this.form.querySpecies==\"\" && this.form.gene==\"\"){\r\n        this.$message.error('Please enter query criteria');\r\n      }else{\r\n        if(this.classification==\"animal\"){\r\n          this.loading_animal=true;\r\n        }else{\r\n          this.loading_plant=true;\r\n        }\r\n        this.getTraitData(this.expItem.expName,this.classification)\r\n        setTimeout(() => {\r\n          this.messagError(this.classification)\r\n        }, 1000);\r\n      }\r\n    }, \r\n    messagError(type){\r\n      if(type=='plant'){\r\n        if(this.totalSize_plant==0){\r\n            this.$message.error('No data found');\r\n          }\r\n      }else{\r\n          if(this.totalSize_animal==0){\r\n            this.$message.error('No data found');\r\n        }\r\n      }\r\n    },\r\n    clearFilter(){\r\n      if(this.form.querySpecies!==\"\" || this.form.gene!==\"\"){\r\n\r\n        if(this.classification==\"animal\"){\r\n          this.loading_animal=true;\r\n        }else{\r\n          this.loading_plant=true;\r\n        }\r\n        this.form.querySpecies=\"\";\r\n        this.form.gene=\"\"\r\n        this.getTraitData(this.expItem.expName,\"animal\")\r\n        this.getTraitData(this.expItem.expName,\"plant\")\r\n        \r\n      }\r\n    },\r\n    async showTableIcon(data,classss){\r\n      \r\n      if(classss == \"plant\"){\r\n        this.speciesList_plant=[];\r\n        this.speciesList_plant_1=[];\r\n        if(data.length>0){\r\n          for(let varData of data){\r\n            // 增加一个属性保存物种的index，用来显示表格里的icon\r\n            varData.speciesListData=[];\r\n            // 增加一个属性，保存显示有trait数据的情况\r\n            varData.traitListData1=[];\r\n            varData.traitListData2=[];\r\n            if(varData.ortholist){\r\n              for(let item of varData.ortholist){\r\n                let speciesName=item.species.commonName\r\n                if(this.speciesList_plant.indexOf(speciesName)==-1){\r\n                  this.speciesList_plant.push(speciesName);\r\n                  item.species.checked=true;\r\n                  this.speciesList_plant_1.push(item.species);\r\n                }\r\n                varData.speciesListData.push(this.speciesList_plant.indexOf(speciesName));\r\n                if(item.annotation !== null & item.eoName!==null){\r\n                  varData.traitListData2.push(this.speciesList_plant.indexOf(speciesName))\r\n                  let varlist=item.eoName.split(',')\r\n                  if(varlist.indexOf( varData.annotation)>-1){\r\n                      varData.traitListData1.push(this.speciesList_plant.indexOf(speciesName))\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n          this.$refs['table'].doLayout();\r\n        }\r\n        \r\n    }else{\r\n      this.speciesList_animal=[];\r\n      this.speciesList_animal_1=[];\r\n        if(data.length>0){\r\n          for(let varData of data){\r\n            // 增加一个属性保存物种的index，用来显示表格里的icon\r\n            varData.speciesListData=[];\r\n            varData.traitListData1=[];\r\n            varData.traitListData2=[];\r\n            if(varData.ortholist){\r\n              for(let item of varData.ortholist){\r\n                let speciesName=item.species.commonName;\r\n                if(this.speciesList_animal.indexOf(speciesName)==-1){\r\n                  this.speciesList_animal.push(speciesName);\r\n                  item.species.checked=true;\r\n                  this.speciesList_animal_1.push(item.species);\r\n                }\r\n                varData.speciesListData.push(this.speciesList_animal.indexOf(speciesName));\r\n                if(item.eoName !== null){\r\n                  // 有trait但不相同\r\n                   varData.traitListData2.push(this.speciesList_animal.indexOf(speciesName))\r\n                  let varlist=item.eoName.split(',')\r\n                  if(varlist.indexOf( varData.annotation)>-1){\r\n                    // 有相同trait\r\n                      varData.traitListData1.push(this.speciesList_animal.indexOf(speciesName))\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n    }\r\n    return Promise.resolve(data);\r\n    },\r\n    // 主要获取数据的方法\r\n    // 根据动植物分开获取\r\n    async getTraitData(expName,classification,hdbId){\r\n      if(this.form.gene!=='' && this.form.gene !==undefined){\r\n        this.form.gene=this.form.gene.trim()\r\n      }\r\n      let pageNo;\r\n      if(classification==\"animal\"){pageNo=this.currentPage4_a}else if(classification==\"plant\"){\r\n        pageNo=this.currentPage4_p\r\n      }else{pageNo=1}\r\n      // console.log(\"params:\",expName,classification,pagesize,pagenum,speciesName);\r\n      this.$axios.get(\"http://localhost:9401/api/expression-data\",{params:{'classification': classification,'expName':expName,'length':this.pageSize,'pageNo':pageNo,'taxonid':this.form.querySpecies,'geneid':this.form.gene,\"hdbId\":hdbId}})\r\n      .then((response) => {\r\n        console.log(\"response:\",response);\r\n        if(classification==\"animal\"){\r\n          this.getSpecies(expName,\"animal\")\r\n          this.totalSize_animal = response.data.recordsTotal;\r\n          this.showTableIcon(response.data.data,classification).then((res)=>{ this.traitData_animal=res;this.loading_animal=false;});\r\n          \r\n        }else{\r\n          this.getSpecies(expName,\"plant\")\r\n          this.totalSize_plant = response.data.recordsTotal;\r\n          this.showTableIcon(response.data.data,classification).then((res)=>{ this.traitData_plant=res; this.loading_plant=false;});\r\n          \r\n        }\r\n\r\n      })\r\n      .finally(()=>{ return Promise.resolve()})\r\n   \r\n    },\r\n    // 根据当前classification判断获取动物或植物列表\r\n    getSpecies(expName,speciesType){\r\n      this.$axios.get('http://localhost:9401/api/species-exp',{params: {\"expName\":expName,speciesType: speciesType}})\r\n        .then(response=>{\r\n          // 2是植物，1是动物\r\n          if(speciesType=='plant'){\r\n            this.querySpeciesList_plant=response.data;\r\n          }else{\r\n            this.querySpeciesList_animal=response.data;\r\n          }\r\n      })\r\n    },\r\n    clearTraitFilter(){\r\n        this.expItem={\r\n          expName:\"\"\r\n        }\r\n        if(this.classification=='animal'){this.loading_animal=true}else{this.loading_plant=true}\r\n        this.showTitle=false;\r\n        // let params1={classification:\"animal\",pagesize:this.pageSize,pagenum:1}\r\n        // // let params={traitId:this.traitItem.traitDefID,classification:this.traitItem.classification,pagesize:this.pageSize,pagenum:1,speciesName:this.form.querySpecies}\r\n        // let params2={classification:\"plant\",pagesize:this.pageSize,pagenum:1}\r\n        this.getTraitData(\"\",\"animal\");\r\n        this.getTraitData(\"\",\"plant\");\r\n        // this.getTraitData(\"\",\"plant\");\r\n      }\r\n\r\n  },\r\n  \r\n\r\n  mounted() {\r\n   if(this.classification=='animal'){\r\n      this.loading_animal = true;\r\n    }else{\r\n      this.loading_plant=true;\r\n    }\r\n\r\n\r\n    let hdbId = this.$route.query.hdbId;\r\n    this.hdbId=hdbId;\r\n    // if(hdbId!=null && hdbId!=\"\"){}\r\n    if(hdbId!=\"\" && hdbId!=null){\r\n      let classification;\r\n      if(this.$route.query.speciesType==1){\r\n        classification=\"animal\";\r\n        this.classification=\"animal\";\r\n      }else if(this.$route.query.speciesType==2){\r\n        classification=\"plant\";\r\n        this.classification=\"plant\";\r\n      }\r\n     \r\n      this.expItem={\r\n        expName:\"\"\r\n      },\r\n        this.showTitle=false;\r\n        // let params={hdbId:hdbId,classification:classification}\r\n        this.getTraitData(this.expItem.expName,classification,hdbId);\r\n    }else{\r\n      this.getTraitData(this.expItem.expName,\"animal\");\r\n      this.getTraitData(this.expItem.expName,\"plant\");\r\n    }\r\n\r\n  // expName,classification,pagesize,pagenum,speciesName\r\n   \r\n\r\n    window.addEventListener(\"scroll\", this.watchScroll);\r\n   // 获取动植物名称列表，用于下拉选择框\r\n    // this.getSpecies(this.expItem.expName,this.classification)\r\n    // this.getSpecies(this.expItem.expName,\"plant\")\r\n    \r\n     window.addEventListener(\"scroll\", this.watchScroll);\r\n      this.getTableMaxHeight(); \r\n      let _this = this;\r\n      window.onresize = function () {//用于使表格高度自适应的方法  \r\n      _this.getTableMaxHeight();//获取容器当前高度，重设表格的最大高度\r\n    }\r\n    \r\n  }\r\n}\r\n\r\n</script>\r\n"],"sourceRoot":"src/views"}]}